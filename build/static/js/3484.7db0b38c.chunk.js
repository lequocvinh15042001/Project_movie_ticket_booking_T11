"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[3484],{28560:function(e,n,i){i.d(n,{Z:function(){return q}});var t=i(29439),a=i(72791),l=i(79271),o=i(91523),s=i(97478),c=i(45806),d=i(2579),r=i(38596),u=i(16789);i(81694);i.p;var v=i(43969),h=i(80184);Array.from(Array(10));var m=i(1413),f=i(44697),x=i(67025),g=i(38302),j=i(26513),p=i(6094),Z=i(22713),N=i(72471),y=i(27235),b=i(60788),k=i(77248),_=i(8440),w=i(39571),C=i(40464),S=i(80542),B=i(57913),T=i(35667),I=i(21830),E=i.n(I),R=i(85159),L=i(30014),M=i(1288),A=i(93188),U=i(87850),O=i(35720),V=i(72426),D=i.n(V),P=(i(54871),i(14125));function W(e){var n,i,l,o=e.idReviewPost,s=(e.data,e.onClickBtnMuave,e.isMobile),c=e.onIncreaseQuantityComment,d=(e.uniqueKey,(0,a.useState)()),r=(0,t.Z)(d,2),I=r[0],V=r[1],W=(0,a.useState)(),K=(0,t.Z)(W,2),q=K[0],z=K[1],H=(0,a.useState)(!1),Q=(0,t.Z)(H,2),G=Q[0],F=Q[1],X=(0,u.v9)((function(e){return e.usersManagementReducer})),J=X.successInfoUser,Y=(X.loadingInfoUser,(0,u.v9)((function(e){return e.authReducer})).currentUser),$=(0,a.useState)(0),ee=(0,t.Z)($,2),ne=ee[0],ie=ee[1],te=(0,a.useState)(0),ae=(0,t.Z)(te,2),le=ae[0],oe=ae[1],se=(0,u.I0)();(0,a.useEffect)((function(){se(y.Se)}),[Y]),(0,a.useEffect)((function(){N.Z.getAllLikeBaiViet(o).then((function(e){console.log("data danh s\xe1ch like b\xe0i vi\u1ebft: ",e.data.data),z(e.data.data)})).catch(console.log("l\u1ed7i"))}),[ne]),(0,a.useEffect)((function(){N.Z.getAllCommentBaiViet(o).then((function(e){V(e.data.data)})).catch(console.log("l\u1ed7i"))}),[le]),(0,a.useEffect)((function(){var e;N.Z.checkUserLikeOrUnlike(null===Y||void 0===Y||null===(e=Y.data)||void 0===e?void 0:e.id,o).then((function(e){console.log("Like check: ",e.data),F(e.data.success)})).catch(console.log("l\u1ed7i"))}),[o]);var ce=(0,a.useState)(!1),de=(0,t.Z)(ce,2),re=de[0],ue=de[1],ve=function(){ue(!1)},he=(0,u.v9)((function(e){return e.interactionReducer})),me=he.loadingCommentPost,fe=he.commentPost,xe=(0,S.TH)(),ge=(0,S.k6)(),je=(0,a.useState)(!1),pe=(0,t.Z)(je,2),Ze=pe[0],Ne=pe[1],ye=(0,a.useState)(!1),be=(0,t.Z)(ye,2),ke=be[0],_e=be[1],we=(0,a.useState)({comment:[],page:5,hideBtn:!1,idScrollTo:""}),Ce=(0,t.Z)(we,2),Se=Ce[0],Be=Ce[1],Te=(0,a.useState)({avtId:null===Y||void 0===Y?void 0:Y.username,username:null===Y||void 0===Y?void 0:Y.name,description:"",dataTest:!1,createdAt:""}),Ie=(0,t.Z)(Te,2),Ee=Ie[0],Re=Ie[1],Le=(0,B.Z)({hideBtn:Se.hideBtn,isMobile:s});(0,a.useEffect)((function(){null!==I&&void 0!==I&&I.length&&!s&&c(null===I||void 0===I?void 0:I.length)}),[I]),(0,a.useEffect)((function(){N.Z.getAllCommentBaiViet(o).then((function(e){V(e.data.data)})).catch(console.log("l\u1ed7i")),fe&&Re((function(e){return(0,m.Z)((0,m.Z)({},e),{},{description:""})}))}),[fe]),console.log(I),(0,a.useEffect)((function(){var e,n=null===I||void 0===I||null===(e=I.content)||void 0===e?void 0:e.slice(0,null===I||void 0===I?void 0:I.totalElements);Be((function(e){return(0,m.Z)((0,m.Z)({},e),{},{comment:n})}))}),[I]),(0,a.useEffect)((function(){Se.idScrollTo&&T.OK.scrollTo(Se.idScrollTo,{duration:800,offset:-79,smooth:"easeInOutQuart"})}),[Se.idScrollTo]);var Me=function(){Ne(!1)},Ae=function(){Y||E().fire({title:"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"\u0110\u0103ng nh\u1eadp",cancelButtonText:"Kh\xf4ng"}).then((function(e){e.isConfirmed&&ge.push("/dangnhap",xe.pathname)}))};return(0,a.useEffect)((function(){q&&I&&(ie(q.length),oe(I.totalElements))}),[q,I,ne,le]),(0,h.jsxs)(f.Z,{disableSpacing:!0,children:[(0,h.jsxs)(x.Z,{"aria-label":"add to favorites",style:{color:!0===G?"blue":"white"},onClick:function(){var e,n;null!==Y?!0===G?(console.log("Unlike"),se((0,v.u7)({userId:null===J||void 0===J||null===(e=J.data)||void 0===e?void 0:e.id,articleId:o})),N.Z.getAllLikeBaiViet(o).then((function(e){console.log("data danh s\xe1ch like b\xe0i vi\u1ebft: ",e.data.data),ie(e.data.data.length-1),z(e.data.data),F(!1)})).catch(console.log("l\u1ed7i"))):(console.log("Like"),se((0,v.u7)({userId:null===J||void 0===J||null===(n=J.data)||void 0===n?void 0:n.id,articleId:o})),N.Z.getAllLikeBaiViet(o).then((function(e){console.log("data danh s\xe1ch like b\xe0i vi\u1ebft: ",e.data.data),ie(e.data.data.length+1),z(e.data.data),F(!0)})).catch(console.log("l\u1ed7i"))):Ae()},children:[(0,h.jsx)(p.Z,{}),(0,h.jsx)(g.Z,{children:ne})]}),(0,h.jsx)("div",{children:(0,h.jsxs)(x.Z,{"aria-label":"comment",style:{color:"white"},onClick:function(){ue(!0)},children:[(0,h.jsx)(Z.Z,{}),(0,h.jsx)(g.Z,{children:le})]})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)(b.Z,{fullWidth:!0,open:re,onClose:ve,"aria-labelledby":"responsive-dialog-title",children:[(0,h.jsxs)(R.Z,{disableTypography:!0,className:Le.rootcloseButton,children:[(0,h.jsx)(C.Z,{id:"responsive-dialog-title",children:"\u0110\u1ec3 l\u1ea1i b\xecnh lu\u1eadn c\u1ee7a b\u1ea1n"}),(0,h.jsx)(x.Z,{"aria-label":"close",className:Le.closeButton,onClick:ve,children:(0,h.jsx)(L.Z,{})})]}),(0,h.jsxs)("div",{className:Le.theLon,children:[(0,h.jsx)("div",{className:Le.danhGia,children:(0,h.jsxs)("div",{className:Le.inputRoot,onClick:function(){if(!Y)return ve(),void Ae();Ne(!0),_e(!1)},children:[(0,h.jsx)("span",{className:Le.avatarReviewer,children:(0,h.jsx)("img",{src:null!==J&&void 0!==J&&null!==(n=J.data)&&void 0!==n&&n.image?null===J||void 0===J||null===(i=J.data)||void 0===i?void 0:i.image:U.lq,alt:"avatar",className:Le.avatarImg})}),(0,h.jsx)("input",{className:Le.inputReviwer,type:"text",placeholder:"\u0110\u1ec3 l\u1ea1i b\xecnh lu\u1eadn cho b\xe0i vi\u1ebft?",readOnly:"readonly"})]})}),(0,h.jsx)("div",{className:"text-center mb-2 text-white",hidden:!me,children:(0,h.jsx)(O.Z,{size:20,color:"inherit"})}),null===Se||void 0===Se||null===(l=Se.comment)||void 0===l?void 0:l.map((function(e,n){return(0,h.jsxs)("div",{className:Le.itemDis,id:"idComment".concat(e.id),children:[(0,h.jsxs)("div",{className:Le.infoUser,children:[(0,h.jsxs)("div",{className:Le.left,children:[(0,h.jsx)("span",{className:Le.avatar,children:(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.image?null===e||void 0===e?void 0:e.image:U.lq,alt:"avatar",className:Le.avatarImg})}),(0,h.jsxs)("span",{className:Le.liveUser,children:[(0,h.jsx)("p",{className:Le.userName,children:e.name}),(0,h.jsx)("p",{className:Le.timePost,children:D()(e.createdAt).fromNow()})]})]}),(0,h.jsx)("span",{className:Le.nutTuyChon,children:(0,h.jsx)(P.Z,{})}),(0,h.jsx)("div",{className:"clearfix"})]}),(0,h.jsx)("div",{className:"py-3 mb-3 border-bottom",children:(0,h.jsx)("p",{className:"text-break",children:e.description})})]},n)})),(0,h.jsx)("div",{className:Le.moreMovie,children:(0,h.jsx)(j.Z,{variant:"outlined",onClick:function(){return function(){var e,n,i=!1,t=(null===I||void 0===I?void 0:I.totalElements)%5;(null===I||void 0===I?void 0:I.totalElements)%5===0&&(t=5),Se.page+t===(null===I||void 0===I?void 0:I.totalElements)&&(i=!0);var a="idComment".concat(null===I||void 0===I||null===(e=I.content[null===Se||void 0===Se?void 0:Se.page])||void 0===e?void 0:e.createdAt),l=(null===Se||void 0===Se?void 0:Se.page)+5,o=null===I||void 0===I||null===(n=I.content)||void 0===n?void 0:n.slice(0,l);Be((function(e){return(0,m.Z)((0,m.Z)({},e),{},{comment:o,page:l,hideBtn:i,idScrollTo:a})}))}()},className:Le.moreMovieButton,children:"Xem th\xeam"})})]})]}),(0,h.jsxs)(b.Z,{open:Ze,onClose:Me,maxWidth:"sm",fullWidth:!0,className:Le.dialog,children:[(0,h.jsx)(R.Z,{disableTypography:!0,className:Le.rootcloseButton,children:(0,h.jsx)(x.Z,{"aria-label":"close",className:Le.closeButton,onClick:Me,children:(0,h.jsx)(L.Z,{})})}),(0,h.jsx)(M.Z,{container:!0,direction:"column",justify:"center",alignItems:"center",children:(0,h.jsx)("span",{style:{fontSize:"20px",marginTop:"1rem"},children:"\u0110\u1ec3 l\u1ea1i b\xecnh lu\u1eadn"})}),(0,h.jsx)(_.Z,{className:Le.dialogContent,children:(0,h.jsx)(A.Z,{className:Le.textField,onChange:function(e){return function(e){e.target.value.length>=11&&_e(!1),Re((function(n){return(0,m.Z)((0,m.Z)({},n),{},{description:e.target.value})}))}(e)},fullWidth:!0,value:Ee.description,variant:"outlined",label:Ee.description?"":"N\xf3i l\xean suy ngh\u0129 c\u1ee7a b\u1ea1n..."})}),(0,h.jsxs)(k.Z,{className:"justify-content-center flex-column px-4",children:[ke&&(0,h.jsx)(w.Z,{className:"text-danger",children:"Vui l\xf2ng g\xf5 h\u01a1n 10 k\xfd t\u1ef1!"}),(0,h.jsx)(j.Z,{onClick:function(){var e;if(!me)if(Ee.description.length<11)_e(!0);else{_e(!1);(new Date).toISOString();Ne(!1),se((0,v.sK)({description:null===Ee||void 0===Ee?void 0:Ee.description,articleId:o,userId:null===J||void 0===J||null===(e=J.data)||void 0===e?void 0:e.id}))}},variant:"contained",className:Le.btnDang,children:"\u0110\u0103ng"})]})]})]})]})}D().locale("vi");var K=(0,r.Z)({root:{maxWidth:345},media:{height:150}});function q(){(0,u.v9)((function(e){return e.usersManagementReducer})).successInfoUser;var e=(0,a.useState)([]),n=(0,t.Z)(e,2),r=n[0],v=n[1],m=(0,a.useState)(!0),f=(0,t.Z)(m,2),x=f[0],g=f[1];(0,a.useEffect)((function(){s.k.layReviewDuocDuyet().then((function(e){v(e.data),g(!1)})).catch((function(e){console.log(e)}))}),[]);var j=(0,l.useHistory)(),p=i(72426);K();return x?(0,h.jsx)(c.Z,{}):(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"news__header",children:(0,h.jsx)("div",{className:"overlay",children:(0,h.jsx)("div",{className:"title__description",children:"Latest Reviews"})})}),(0,h.jsxs)("div",{className:"news__container container",children:[(0,h.jsx)("div",{className:"news__content row",children:(0,h.jsxs)("div",{className:"news__left col-md-12 col-sm-12",children:[(0,h.jsx)("h3",{className:"news__title",children:"Reviews"}),function(){var e;return null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.reverse().map((function(e,n){if("REVIEWS"===(null===e||void 0===e?void 0:e.type)&&"APPROVE"===(null===e||void 0===e?void 0:e.status)){var i="".concat(e.id,"_").concat(n);return(0,h.jsxs)("div",{className:"news__items",children:[(0,h.jsx)("div",{className:"items__img",children:(0,h.jsx)("img",{src:null===e||void 0===e?void 0:e.mainImage,alt:null===e||void 0===e?void 0:e.mainImage})}),(0,h.jsxs)("div",{className:"items__text",children:[(0,h.jsx)("h4",{className:"items__text-title",children:(0,h.jsx)(o.OL,{className:"items__text-link",to:"/review/".concat(null===e||void 0===e?void 0:e.id),children:(null===e||void 0===e?void 0:e.title)||(0,h.jsx)(d.y,{color:"#202020",highlightColor:"#111111",children:(0,h.jsx)("h2",{children:(0,h.jsx)(d.Z,{count:3,duration:2})})})})}),(0,h.jsx)("p",{className:"items__text-description",children:null===e||void 0===e?void 0:e.brief}),(0,h.jsxs)("div",{className:"items__text-author",children:["T\xe1c gi\u1ea3:"," ",(0,h.jsx)(o.OL,{to:"/reviewer/".concat(null===e||void 0===e?void 0:e.createdBy),children:null===e||void 0===e?void 0:e.createdBy}),(0,h.jsxs)("span",{className:"items__text-days",children:["Ng\xe0y c\u1eadp nh\u1eadt"," ",p(null===e||void 0===e?void 0:e.dayupload).format("hh:mm DD/MM/yyyy")]})]}),(0,h.jsx)("div",{children:(0,h.jsx)(W,{idReviewPost:e.id,uniqueKey:i})})]})]},i)}}))}()]})}),(0,h.jsx)("div",{className:"readMore",children:(0,h.jsx)("button",{className:"btn__readmore",type:"button",onClick:function(){j.push("/review")},children:"See More"})})]})]})}},66004:function(e,n,i){i.d(n,{Z:function(){return a}});i(72791);var t=i(80184);function a(){return(0,t.jsx)("div",{style:{height:"80px",maxWidth:940,margin:"auto",width:"100%",background:"url(../../assets/posterBG.jpg)",backgroundSize:"100%",backgroundRepeat:"no-repeat"}})}},80261:function(){},94667:function(e,n,i){i.d(n,{TQ:function(){return l}});var t=i(94086),a=i(76212),l=function(){return function(e){e({type:a.hR}),t.Z.getThongTinLichChieuHeThongRap().then((function(n){e({type:a.Mx,payload:{data:n.data}})})).catch((function(n){var i;e({type:a.T8,payload:{errorTheaterList:null!==(i=n.response)&&void 0!==i&&i.data?n.response.data:n.message}})}))}}}}]);
//# sourceMappingURL=3484.7db0b38c.chunk.js.map