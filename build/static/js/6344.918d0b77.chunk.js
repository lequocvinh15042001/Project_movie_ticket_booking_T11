"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[6344],{40972:function(e,t,n){var i=n(65608),o={getDanhSachPhongVe:function(e){var t="/seats?scheduleId=".concat(e);return i.Z.get(t)},getLichChieuChiTietHeThong:function(e,t,n,o,a){var l="/schedule/getAll?page=0&size=20&movieId=".concat(e,"&branchId=").concat(t,"&startDate=").concat(n,"&startTime=").concat(o,"&roomId=").concat(a);return console.log("L\u1ea5y chi ti\u1ebft l\u1ecbch th\xe0nh c\xf4ng!"),i.Z.get(l)},postDatVe:function(e){return console.log("\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng!"),i.Z.post("/bills/create-new-bill",e)},postTaoLichChieu:function(e){var t=e.branchId,n=e.movieId,o=e.price,a=e.roomId,l=e.startDate,c=e.startTime,s="/schedule/add?movieId=".concat(n,"&branchId=").concat(t,"&roomId=").concat(a,"&startDate=").concat(l,"&startTime=").concat(c,"&price=").concat(o);return i.Z.post(s)}};t.Z=o},934:function(e,t,n){var i=n(65608),o={postDangKy:function(e){return i.Z.post("/auth/signup",e)},postDangNhap:function(e){return console.log(e),i.Z.post("/auth/signin",e)},getDanhSachNguoiDung:function(){return i.Z.get("/user/getAll")},getDanhSachNguoiDungPhanTrang:function(e,t){return i.Z.get("/",{soTrang:e,soPhanTuTrenTrang:t})},postThemNhanVien:function(e){return i.Z.post("/auth/registerStaff",e)},postThemNguoiDung:function(e){return i.Z.post("/auth/signup",e)},getTicket:function(e){var t="/tickets?userId=".concat(e);return i.Z.get(t)},getTicketUser:function(e){var t="/tickets?userId=".concat(e);return i.Z.get(t)},getTicketByAdminStaff:function(){return i.Z.get("/tickets/getList")},deleteUser:function(e){var t="user/".concat(e);return i.Z.delete(t)},editTaiKhoan:function(e){return i.Z.put("/user/updateInfo",e)},editPassword:function(e,t){var n="/auth/changePassword?newPassword=".concat(e,"&oldPassword=").concat(t);return i.Z.put(n)},getThongTinTaiKhoan:function(){return i.Z.get("/user/me")},getChiTietTaiKhoan:function(e){var t="/user/".concat(e);return i.Z.get(t)},getChiTietTaiKhoanReviewer:function(e){var t="/user/".concat(e);return i.Z.get(t)}};t.Z=o},32694:function(e,t,n){n.d(t,{Z:function(){return l}});n(72791);var i=(0,n(38596).Z)({text__first:function(e){return{color:e.color?"".concat(e.color):"white",fontWeight:"700",fontSize:e.testSize?e.testSize:15,backgroundColor:"black",borderRadius:"5px",marginBottom:"5px"}},text__second:{color:"#f22222",fontWeight:"700"}}),o=n(1478),a=n(80184);function l(e){var t=e.tenCumRap,n=e.testSize,l=e.giaVe,c=i({color:o.yk[null===t||void 0===t?void 0:t.slice(0,3).toUpperCase()],testSize:n});return(0,a.jsxs)("p",{className:c.text__first,children:[(0,a.jsx)("span",{children:null===t||void 0===t?void 0:t.split("-")[0]}),(0,a.jsxs)("span",{className:c.text__second,children:[" - Gi\xe1 v\xe9: ","".concat(null===l||void 0===l?void 0:l.toLocaleString("vi-VI"),"\u0111")]})]})}},1478:function(e,t,n){n.d(t,{W0:function(){return a},YW:function(){return l},yk:function(){return i}});var i={BHD:"#8bc541",CGV:"#e71a0f",CNS:"#df0d7a",GLX:"#ff751a",LOT:"#cf544b",MEG:"#eeb730"},o=["/img/cumRap/bhd-star-bitexco-16105952137769.png","/img/cumRap/bhd-star-pham-hung-16105959230642.png","/img/cumRap/bhd-star-vincom-3-2-16105957596860.png","/img/cumRap/bhd-star-vincom-le-van-viet-16105962051265.png","/img/cumRap/bhd-star-vincom-quang-trung-16105960645760.png","/img/cumRap/bhd-star-vincom-thao-dien-16105955634183.png","/img/cumRap/cinestar-hai-ba-trung-15383833704033.jpg","/img/cumRap/cinestar-quoc-thanh-15379636956745.jpg","/img/cumRap/ddc-dong-da-15379624326697.jpg","/img/cumRap/lotte-cinema-cong-hoa-15383860949090.jpg","/img/cumRap/lotte-cinema-go-vap-15383873960955.jpg","/img/cumRap/lotte-cinema-phu-tho-15383865322515.jpg","/img/cumRap/lotte-cinema-thu-duc-15383864347748.jpg","/img/cumRap/mega-gs-cao-thang-15380164745357.jpg"];function a(){return o[Math.floor(14*Math.random())]}var l=[]},96344:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var i=n(1413),o=n(29439),a=n(72791),l=n(79271),c=n(16789),s=n(8154),r=n(43525),d=n(44212),u=n(38596),h=(0,u.Z)({top:{position:"fixed",top:0,left:0,zIndex:1,height:60,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",backgroundColor:"#fff"},topLeft:{padding:22.5},imgCancel:{width:15,height:15,cursor:"pointer"},stepName:{fontWeight:500},avatar:{display:"inline-block",width:"30px",height:"30px",borderRadius:"50%",marginRight:15},empty:{height:60},bottom:{position:"fixed",bottom:0,left:0,zIndex:10,height:70,width:"100%",textAlign:"center"},btnBottom:{display:"inline-block",width:"50%",height:"100%",verticalAlign:"top",border:"none",fontWeight:500,borderTop:"1px solid #dadada",borderBotom:"1px solid #dadada"},btnLeft:{color:"#44c020",fontSize:15,backgroundColor:"#fff",padding:10},btnRight:function(e){return{color:"#e9e9e9",backgroundColor:e.isDisableBtnRight?"#afafaf":"#44c020",fontSize:15}}}),p=n(87850),g=n(93433),m=n(63043),f=n(92702),v=n(80184);function x(){var e=(0,c.v9)((function(e){return e.bookTicketReducer})),t=e.loadingBookingTicket,n=e.successBookingTicketMessage,i=e.errorBookTicketMessage,o=(0,c.I0)(),l=(0,a.useMemo)((function(){return Date.now()+3e5}),[]),s={fontWeight:500,fontSize:34,color:"#fb4226",lineHeight:"39px"};return(0,v.jsx)(f.ZP,{date:l,renderer:function(e){var t=e.minutes,n=e.seconds;return(0,v.jsxs)("span",{style:s,children:[(0,f.Bu)(t),":",(0,f.Bu)(n)]})},onComplete:function(){t||n||i||o({type:r.LX})}})}var b=n(21741),j=(0,u.Z)({listSeat:function(e){return{position:"relative",padding:e.isMobile?"0px":"0 10%",marginLeft:e.isMobile?"0%":"10%"}},info_CountDown:{width:"100%",display:"flex",justifyContent:"space-between",padding:function(e){return e.isMobile?"15px 15px 0px":"2% 0%"}},infoTheater:{display:"flex"},text:{paddingTop:5,paddingLeft:13},textTime:{color:"#9b9b9b",fontSize:13},countDown:{textAlign:"center"},timeTitle:{fontSize:"12px",color:"#9b9b9b"},timeCount:{fontWeight:500,fontSize:34,color:"#fb4226",lineHeight:"39px"},overflowSeat:(0,i.Z)({overflow:function(e){return e.isMobile,"auto hidden"}},b.EZ),invariantWidth:{minWidth:function(e){return e.isMobile,"600px"},padding:function(e){return e.isMobile?"0 7%":"0%"}},screen:{width:"100%"},seatSelect:{padding:"0% 10%",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},seat:{position:"relative",width:"calc(100%/16)",display:"inline-block",cursor:"pointer"},label:{position:"absolute",top:"50%",left:"-100%",transform:"translate(-50%, -50%)",fontWeight:500,fontSize:function(e){return e.widthLabel},cursor:"default"},seatName:{position:"absolute",top:"40%",color:"white",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,fontSize:function(e){return e.widthLabel}},seatLocked:{position:"absolute",top:"42%",left:"50%",width:"41%",transform:"translate(-50%, -50%)"},seatIcon:{width:"100%",height:"100%",paddingBottom:"5px"},viewCenter:{position:"absolute",top:"68%",left:"47.5%",width:"700%",height:"350%",transform:"translate(-42.5%,-42%)",zIndex:1},areaClick:{width:"100%",height:"100%",color:"red",position:"absolute",zIndex:2,top:0,left:0},noteSeat:{padding:"2% 10% 0",fontSize:13,color:"#9b9b9b"},typeSeats:{display:"flex",justifyContent:"space-evenly",textAlign:"center",gap:"2px"},posiX:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)",fontSize:18,color:"#fff"},positionView:{textAlign:"center",marginTop:5,paddingBottom:20},line:{marginLeft:19},linecenter:{display:"inline-block",borderBottom:"2px dashed #fa7f6c",width:28,verticalAlign:"super",marginRight:8},linebeautiful:{display:"inline-block",borderBottom:"2px solid #fa7f6c",width:28,verticalAlign:"super",marginRight:8},modalleft:function(e){return{display:e.isMobile?"none":"block",left:0,top:100,height:"calc(100% - 100px)",width:"7.5%",position:"fixed",backgroundImage:"url(".concat(e.modalLeftImg,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},opacity:{height:"100%",width:"100%",background:"#000",opacity:.7}}),y=n(1478),k=n(67380),T=n(32694),S=(n(90266),n(40972));function C(){var e,t,n,s,d,u,h,p,f,b,y,C,N,Z,w,R,I,P,M=(0,c.v9)((function(e){return e.bookTicketReducer})),L=M.isMobile,B=M.listSeat,z=(M.danhSachPhongVe.thongTinPhim,M.thongTinPhongVe);console.log("-------",B),console.log("------sdas-",z);var D=(0,a.useRef)(null),V=(0,a.useState)(0),A=(0,o.Z)(V,2),H=A[0],_=A[1],E=(0,a.useState)(1),W=(0,o.Z)(E,2),O=W[0],U=W[1],G=(0,a.useState)(),F=(0,o.Z)(G,2),K=F[0],X=F[1],Y=(0,l.useParams)();console.log(Y.maPhim,Y.maRap,Y.ngayChieu,Y.gioChieu,Y.maPhong),(0,a.useEffect)((function(){S.Z.getLichChieuChiTietHeThong(Y.maPhim,Y.maRap,Y.ngayChieu,Y.gioChieu,Y.maPhong).then((function(e){console.log(e.data.data),X(e.data)})).catch((function(e){console.log(e)}))}),[]);var q=j({modalLeftImg:null===K||void 0===K||null===(e=K.data)||void 0===e||null===(t=e.content[0])||void 0===t||null===(n=t.movie)||void 0===n?void 0:n.smallImageURl,isMobile:L,widthLabel:H/2}),$=(0,c.I0)();(0,a.useEffect)((function(){return window.addEventListener("resize",Q),function(){return window.removeEventListener("resize",Q)}}),[]),(0,a.useEffect)((function(){Q()}),[B]);var Q=function(){var e;_(null===D||void 0===D||null===(e=D.current)||void 0===e?void 0:e.offsetWidth)},J=function(e){var t;return"NORMAL"===e.type&&(t="#3e515d"),"VIP"===e.type&&(t="#f7b500"),e.selected&&(t="#44c020"),e.isOccupied&&(t="#99c5ff"),t};console.log("soGhe: ",O);return(0,v.jsxs)("main",{className:q.listSeat,children:[(0,v.jsxs)("div",{className:q.info_CountDown,children:[(0,v.jsxs)("div",{className:q.infoTheater,children:[(0,v.jsx)("img",{src:null===K||void 0===K||null===(s=K.data)||void 0===s||null===(d=s.content[0])||void 0===d||null===(u=d.movie)||void 0===u?void 0:u.smallImageURl,alt:"phim",style:{width:70,height:100}}),(0,v.jsxs)("div",{className:q.text,children:[(0,v.jsx)(T.Z,{tenCumRap:null===K||void 0===K||null===(h=K.data)||void 0===h||null===(p=h.content[0])||void 0===p||null===(f=p.branch)||void 0===f?void 0:f.name,giaVe:null===K||void 0===K||null===(b=K.data)||void 0===b||null===(y=b.content[0])||void 0===y?void 0:y.price}),(0,v.jsx)("p",{className:q.textTime,children:"".concat(K&&(0,k.Z)(null===K||void 0===K||null===(C=K.data)||void 0===C||null===(N=C.content[0])||void 0===N?void 0:N.startDate).dayToday," - ").concat(null===K||void 0===K||null===(Z=K.data)||void 0===Z||null===(w=Z.content[0])||void 0===w?void 0:w.startDate," - ").concat(null===K||void 0===K||null===(R=K.data)||void 0===R||null===(I=R.content[0])||void 0===I||null===(P=I.movie)||void 0===P?void 0:P.rated)})]}),(0,v.jsx)("input",{style:{display:"flex",justifyContent:"center",textAlign:"center",margin:"1rem",border:"1px solid orange",backgroundColor:"black",color:"white",height:"2rem",witdth:"3rem",fontSize:"1.5rem"},value:O,type:"number",min:"1",max:"80",placeholder:"S\u1ed1 gh\u1ebf!",onChange:function(e){return function(e){U(e.target.value)}(e)}}),(0,v.jsx)("h4",{style:{display:"flex",justifyContent:"center",textAlign:"center",marginTop:"1.2rem",height:"2rem",witdth:"3rem"},children:" Gh\u1ebf"})]}),(0,v.jsxs)("div",{className:q.countDown,children:[(0,v.jsx)("p",{className:q.timeTitle,children:"Th\u1eddi gian \u0111\u1eb7t gi\u1edbi h\u1ea1n"}),(0,v.jsx)(x,{})]})]}),(0,v.jsx)("div",{className:q.overflowSeat,children:(0,v.jsxs)("div",{className:q.invariantWidth,children:[(0,v.jsx)("img",{className:q.screen,src:"/img/bookticket/screen.png",alt:"screen"}),(0,v.jsx)("div",{className:q.seatSelect,children:null===B||void 0===B?void 0:B.map((function(e,t){return(0,v.jsxs)("div",{className:q.seat,ref:D,children:[(0===t||t%16===0)&&(0,v.jsx)("p",{className:q.label,children:e.name.slice(0,1)}),e.selected&&(0,v.jsx)("p",{className:q.seatName,children:(Number(e.name.slice(1)),e.name.slice(1))}),0===e.isOccupied&&(0,v.jsx)("p",{className:q.seatName,children:(Number(e.name.slice(1)),e.name.slice(1))}),1===e.isOccupied&&(0,v.jsx)("img",{className:q.seatLocked,src:"/img/bookticket/notchoose.png",alt:"notchoose"}),(0,v.jsx)(m.Z,{style:{color:J(e)},className:q.seatIcon}),"C8"===e.name&&(0,v.jsx)("img",{className:q.viewCenter,src:"/img/bookticket/seatcenter.png",alt:"seatcenter"}),(0,v.jsx)("div",{className:q.areaClick,onClick:function(){return function(e){if(!e.isOccupied){var t=B.map((function(t){return e.id===t.id?(0,i.Z)((0,i.Z)({},t),{},{selected:!t.selected}):t})),n=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?[].concat((0,g.Z)(e),[t.name]):e}),[]);if(n.length>O)return console.log("dispatch: ",O),void $({type:r.lO});var o=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?[].concat((0,g.Z)(e),[{id:t.id}]):e}),[]),a=n.length>0,l=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?"NORMAL"===t.type?e+7e4:e+8e4:e}),0);$({type:r.vY,payload:{listSeat:t,isSelectedSeat:a,listSeatSelected:n,danhSachVe:o,amount:l}})}}(e)}})]},e.id)}))})]})}),(0,v.jsxs)("div",{className:q.noteSeat,children:[(0,v.jsxs)("div",{className:q.typeSeats,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(m.Z,{style:{color:"#3e515d",fontSize:27}}),(0,v.jsx)("p",{children:"Gh\u1ebf th\u01b0\u1eddng"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(m.Z,{style:{color:"#f7b500",fontSize:27}}),(0,v.jsx)("p",{children:"VIP"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(m.Z,{style:{color:"#44c020",fontSize:27}}),(0,v.jsx)("p",{children:"\u0110ang ch\u1ecdn"})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsx)("p",{className:q.posiX,children:"x"}),(0,v.jsx)(m.Z,{style:{color:"#99c5ff",fontSize:27}})]}),(0,v.jsx)("p",{children:"\u0110\xe3 \u0111\u1eb7t"})]})]}),(0,v.jsxs)("div",{className:q.positionView,children:[(0,v.jsxs)("span",{children:[(0,v.jsx)("span",{className:q.linecenter}),(0,v.jsx)("span",{children:"\u1ede gi\u1eef"})]}),(0,v.jsxs)("span",{className:q.line,children:[(0,v.jsx)("span",{className:q.linebeautiful}),(0,v.jsx)("span",{children:"View \u0111\u1eb9p"})]})]})]}),(0,v.jsx)("div",{className:q.modalleft,children:(0,v.jsx)("div",{className:q.opacity})})]})}var N=n(4942),Z=(0,u.Z)({payMent:function(e){return(0,i.Z)({width:"100%",height:e.isMobile?"calc(100vh - 130px)":"100vh",position:"relative",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",padding:"0 8%",backgroundColor:"#fff",overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},b.EZ)},payMentItem:(0,i.Z)({position:"relative",padding:"12px 0"},b.i2),amount:{lineHeight:"60px",textAlign:"center",fontSize:"41px",color:"#44c020",fontWeight:500},tenPhim:{fontWeight:500,textTransform:"capitalize"},seatInfo:{display:"flex",justifyContent:"space-between",gap:"10%",color:"#fb4226",fontSize:18},amountLittle:{flex:"0 0 82px",color:"#44c020",fontWeight:500,textAlign:"right"},label:{color:"#9b9b9b",display:"block"},labelEmail:{color:function(e){return e.dataFocus.email?"#4a90e2":"#9b9b9b"},fontSize:function(e){return e.dataFocus.email||e.dataSubmit.values.email?13:16},transition:"color .3s, font-size .2s",display:"block",position:"absolute",top:"9%",left:0},labelPhone:{color:function(e){return e.dataFocus.phone?"#4a90e2":"#9b9b9b"},fontSize:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?13:16},transition:"color .3s, font-size .2s",display:"block",position:"absolute",top:"9%",left:0},error:{color:"#fb4226"},fillIn:{border:"none",width:"100%",lineHeight:1.7,"&:focus":{outline:"none"}},fillInEmail:{border:"none",width:"100%",lineHeight:1.7,paddingTop:function(e){return e.dataFocus.email||e.dataSubmit.values.email?12.5:0},marginTop:function(e){return e.dataFocus.email||e.dataSubmit.values.email?5:0},transition:".2s","&:focus":{outline:"none"}},fillInPhone:{border:"none",width:"100%",lineHeight:1.7,paddingTop:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?12.5:0},marginTop:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?5:0},transition:".2s","&:focus":{outline:"none"}},btnDiscount:{backgroundColor:"#afafaf",color:"#fff",border:"none",borderRadius:"6px",padding:"5px 7px",position:"absolute",top:"50%",right:"0%",transform:"translateY(-50%)"},selectedPayMentMethod:{paddingTop:12},toggleNotice:function(e){return{display:e.isSelectedSeat?"none":"block",fontSize:15,color:"#fb4f35",paddingTop:12}},formPayment:function(e){return{display:e.isSelectedSeat?"block":"none",paddingTop:12}},formPaymentItem:{display:"flex",alignItems:"center"},img:{borderRadius:"5px",marginLeft:"15px",marginRight:"15px",maxWidth:"40px"},input:{flexShrink:0,width:"22px",height:"22px",cursor:"pointer","-webkit-appearance":"none",border:"1px solid #4a90e2",borderRadius:"50%",outline:0,"&:before":{content:"''",display:"block",width:"50%",height:"50%",margin:"25% auto",borderRadius:"50%"},"&:checked:before":{background:"#4a90e2"}},bottomSection:{position:"absolute",bottom:0,left:0,width:"100%"},notice:{fontSize:13,textAlign:"center",paddingBottom:70,paddingTop:20},imgNotice:{width:16,height:16,marginRight:8},contactColor:{color:"#f79320"},btnDatVe:function(e){return{position:"fixed",bottom:0,right:0,width:"25%",border:"none",cursor:"pointer",height:60,backgroundColor:"#afafaf",backgroundImage:e.isReadyPayment?"linear-gradient(223deg,#b4ec51 0,#429321 100%)":"none"}},txtDatVe:{margin:"auto",color:"#e9e9e9",fontSize:25}}),w=n(16306),R=(n(35499),n(21830)),I=n.n(R),P=function(e,t,n){var o=(0,i.Z)((0,i.Z)({},n.errors),{},(0,N.Z)({},e,""===(null===t||void 0===t?void 0:t.trim())?"".concat(e.charAt(0).toUpperCase()+e.slice(1)," not be empty!"):""));return"email"===e&&t&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||(o[e]="Email not valid")),"phone"===e&&t&&(/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/.test(t)||(o[e]="Phone not valid")),o};function M(){var e,t,n,s,d,u,h,p,g,m,f,x,b,j,y,T,C,R,M,L,B,z,D=(0,c.v9)((function(e){return e.bookTicketReducer})),V=D.listSeat,A=D.amount,H=D.email,_=D.phone,E=(D.paymentMethod,D.isReadyPayment),W=D.isMobile,O=D.danhSachVe,U=(D.danhSachPhongVe.thongTinPhim,D.maLichChieu),G=D.taiKhoanNguoiDung,F=D.isSelectedSeat,K=D.listSeatSelected,X=D.loadingBookingTicket,Y=D.successBookingTicketMessage,q=D.errorBookTicketMessage,$=D.thongTinPhongVe;console.log(Y),console.log(U,O,G),console.log("danhSachVe: ",O);var Q=(0,c.I0)(),J=(0,a.useRef)(),ee=((0,a.useRef)(),(0,a.useRef)("")),te=(0,a.useState)({phone:!1,email:!1}),ne=(0,o.Z)(te,2),ie=ne[0],oe=ne[1],ae=(0,a.useState)({values:{email:H,phone:_,thongTinPhongVe:$},errors:{email:"",phone:""}}),le=(0,o.Z)(ae,2),ce=le[0],se=le[1],re=Z({isSelectedSeat:F,isReadyPayment:E,isMobile:W,dataFocus:ie,dataSubmit:ce}),de=(0,a.useState)(),ue=(0,o.Z)(de,2),he=ue[0],pe=ue[1],ge=(0,l.useParams)();console.log(K),console.log(ge.maPhim,ge.maRap,ge.ngayChieu,ge.gioChieu,ge.maPhong),(0,a.useEffect)((function(){S.Z.getLichChieuChiTietHeThong(ge.maPhim,ge.maRap,ge.ngayChieu,ge.gioChieu,ge.maPhong).then((function(e){console.log(e.data.data),pe(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){return clearTimeout(ee),ee.current=setTimeout((function(){Q({type:r.FR,payload:{email:ce.values.email,phone:ce.values.phone}}),!ce.errors.email&&!ce.errors.phone&&ce.values.email&&ce.values.phone&&F?Q({type:r.Xk,payload:{isReadyPayment:!0}}):Q({type:r.Xk,payload:{isReadyPayment:!1}})}),500),function(){return clearTimeout(ee.current)}}),[ce,F]),(0,a.useEffect)((function(){P(J.current.name,H,ce);se((function(e){return(0,i.Z)((0,i.Z)({},e),{},{values:{email:H,phone:_}})}))}),[V]);return console.log(null===he||void 0===he||null===(e=he.data)||void 0===e?void 0:e.content[0]),(0,v.jsxs)("aside",{className:re.payMent,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"".concat(re.amount," ").concat(re.payMentItem),children:"".concat(A.toLocaleString("vi-VI")," \u0111")}),(0,v.jsxs)("div",{className:re.payMentItem,children:[(0,v.jsx)("p",{className:re.tenPhim,children:null===he||void 0===he||null===(t=he.data)||void 0===t||null===(n=t.content[0])||void 0===n||null===(s=n.movie)||void 0===s?void 0:s.name}),(0,v.jsx)("p",{children:null===he||void 0===he||null===(d=he.data)||void 0===d||null===(u=d.content[0])||void 0===u?void 0:u.branch.name}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ph\xf2ng:"}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(h=he.data)||void 0===h||null===(p=h.content[0])||void 0===p||null===(g=p.room)||void 0===g?void 0:g.name})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ng\xe0y chi\u1ebfu:"}),(0,v.jsx)("span",{children:(0,k.Z)(null===he||void 0===he||null===(m=he.data)||void 0===m||null===(f=m.content[0])||void 0===f?void 0:f.startDate).dateFull})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Gi\u1edd chi\u1ebfu:"}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(x=he.data)||void 0===x||null===(b=x.content[0])||void 0===b?void 0:b.startTime})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Th\u1eddi l\u01b0\u1ee3ng:"}),(0,v.jsxs)("span",{children:[null===he||void 0===he||null===(j=he.data)||void 0===j||null===(y=j.content[0])||void 0===y||null===(T=y.movie)||void 0===T?void 0:T.duration," Minutes"]})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Th\u1ec3 lo\u1ea1i: "}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(C=he.data)||void 0===C||null===(R=C.content[0])||void 0===R||null===(M=R.movie)||void 0===M?void 0:M.categories})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ng\xf4n ng\u1eef: "}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(L=he.data)||void 0===L||null===(B=L.content[0])||void 0===B||null===(z=B.movie)||void 0===z?void 0:z.language})]})]}),(0,v.jsxs)("div",{className:"".concat(re.seatInfo," ").concat(re.payMentItem),children:[(0,v.jsx)("span",{children:"Gh\u1ebf: ".concat(null===K||void 0===K?void 0:K.join(", "))}),(0,v.jsx)("p",{className:re.amountLittle,children:"".concat(A.toLocaleString("vi-VI")," \u0111")})]}),(0,v.jsxs)("div",{className:re.payMentItem,children:[(0,v.jsx)("label",{className:re.labelEmail,children:"E-Mail"}),(0,v.jsx)("input",{type:"text",name:"email",ref:J,onFocus:function(e){oe((0,i.Z)((0,i.Z)({},ie),{},(0,N.Z)({},e.target.name,!0)))},onBlur:function(e){oe((0,i.Z)((0,i.Z)({},ie),{},(0,N.Z)({},e.target.name,!1)))},value:ce.values.email,className:re.fillInEmail,onChange:function(e){var t=e.target,n=t.name,o=t.value,a=(0,i.Z)((0,i.Z)({},ce.values),{},(0,N.Z)({},n,o)),l=P(n,o,ce);se((function(e){return(0,i.Z)((0,i.Z)({},e),{},{values:a,errors:l})}))},autoComplete:"off"}),(0,v.jsx)("p",{className:re.error,children:ce.errors.email})]}),(0,v.jsx)("div",{className:re.selectedPayMentMethod,children:(0,v.jsx)("div",{className:re.formPayment})}),(0,v.jsx)("div",{className:re.bottomSection,children:(0,v.jsx)("button",{className:re.btnDatVe,disabled:!E,onClick:function(){I().fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1eb7t?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"C\xf3 ch\u1ee9",denyButtonText:"Kh\xf4ng, ch\u01b0a ch\u1eafc l\u1eafm",customClass:{actions:"my-actions",cancelButton:"order-1 right-gap",confirmButton:"order-2",denyButton:"order-3"}}).then((function(e){if(e.isConfirmed){if(E&&!X&&!Y&&!q){for(var t=G,n=U,i=[],o=0;o<O.length;o++)i.push(O[o].id);console.log("G\u1eedi \u0111i: ",t,n,i),Q((0,w.lm)({userId:t,scheduleId:n,listSeatIds:i}))}I().fire("\u0110\xe3 \u0111\u1eb7t!","","success")}else e.isDenied&&I().fire("Okay, kh\xf4ng \u0111\u1eb7t n\xf3!","","info")}))},children:(0,v.jsx)("p",{className:re.txtDatVe,children:"\u0110\u1eb6T NGAY"})})})]}),(0,v.jsx)("div",{className:re.notice})]})}var L=(0,u.Z)({resultBookticket:{textAlign:"left",lineHeight:"30px",padding:function(e){return e.isMobile?23:40},width:"100%"},infoTicked:{display:"flex",gap:"5%"},infoTicked__img:function(e){var t;return{flex:"30%",backgroundImage:"url(".concat(null===(t=e.thongTinPhim)||void 0===t?void 0:t.hinhAnh,")"),borderRadius:"4px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},infoTicked__txt:{flex:"70%"},tenPhim:(0,i.Z)({fontSize:19,fontWeight:"700",color:"red"},b.i2),text__first:function(e){return{color:"".concat(e.color),fontWeight:"500"}},text__second:{color:"#000",fontWeight:"500"},diaChi:(0,i.Z)({color:"#9B9B9B"},b.i2),table:(0,i.Z)({marginTop:10,width:"100%"},b.i2),infoResult_label:{margin:"30px 0px 10px",fontWeight:400},paymentColor:{color:"#f79320"},errorColor:{color:"#fb4226"},noteresult:{fontStyle:"italic",fontWeight:500}});function B(){var e,t,n,i,s,r,d,u,h,p,g,m,f,x,b,j,y,k,T,C,N,Z,w,R=(0,c.v9)((function(e){return e.bookTicketReducer})),I=R.isMobile,P=R.amount,M=R.email,B=(R.phone,R.paymentMethod,R.listSeatSelected),z=R.successBookingTicketMessage,D=R.errorBookTicketMessage,V=(R.danhSachPhongVe.thongTinPhim,R.thongTinPhongVe),A=(0,c.v9)((function(e){return e.authReducer})).currentUser,H=L({thongTinPhongVe:V,isMobile:I}),_=(0,a.useState)(),E=(0,o.Z)(_,2),W=E[0],O=E[1],U=(0,l.useParams)();return console.log(U.maPhim,U.maRap,U.ngayChieu,U.gioChieu,U.maPhong),(0,a.useEffect)((function(){S.Z.getLichChieuChiTietHeThong(U.maPhim,U.maRap,U.ngayChieu,U.gioChieu,U.maPhong).then((function(e){console.log(e.data.data),O(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,v.jsxs)("div",{className:H.resultBookticket,children:[(0,v.jsxs)("div",{className:H.infoTicked,children:[(0,v.jsx)("div",{className:H.infoTicked__img,children:(0,v.jsx)("img",{src:null===W||void 0===W||null===(e=W.data)||void 0===e||null===(t=e.content[0])||void 0===t||null===(n=t.movie)||void 0===n?void 0:n.smallImageURl})}),(0,v.jsxs)("div",{className:H.infoTicked__txt,children:[(0,v.jsx)("p",{className:H.tenPhim,children:null===W||void 0===W||null===(i=W.data)||void 0===i||null===(s=i.content[0])||void 0===s||null===(r=s.movie)||void 0===r?void 0:r.name}),(0,v.jsxs)("p",{className:H.text__first,children:[(0,v.jsx)("span",{children:null===W||void 0===W||null===(d=W.data)||void 0===d||null===(u=d.content[0])||void 0===u||null===(h=u.branch)||void 0===h?void 0:h.name.split("-")[0]}),(0,v.jsxs)("span",{className:H.text__second,children:[" - ",null===W||void 0===W||null===(p=W.data)||void 0===p||null===(g=p.content[0])||void 0===g||null===(m=g.branch)||void 0===m?void 0:m.phoneNo]})]}),(0,v.jsx)("p",{className:H.diaChi,children:null===W||void 0===W||null===(f=W.data)||void 0===f||null===(x=f.content[0])||void 0===x||null===(b=x.branch)||void 0===b?void 0:b.address}),(0,v.jsx)("table",{className:H.table,children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"L\u1ecbch chi\u1ebfu:"}),(0,v.jsx)("td",{valign:"top",children:"".concat(null===W||void 0===W||null===(j=W.data)||void 0===j||null===(y=j.content[0])||void 0===y?void 0:y.startTime,", ").concat(null===W||void 0===W||null===(k=W.data)||void 0===k||null===(T=k.content[0])||void 0===T?void 0:T.startDate)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Ph\xf2ng:"}),(0,v.jsx)("td",{children:null===W||void 0===W||null===(C=W.data)||void 0===C||null===(N=C.content[0])||void 0===N||null===(Z=N.room)||void 0===Z?void 0:Z.name})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Gh\u1ebf(s):"}),(0,v.jsx)("td",{children:null===B||void 0===B?void 0:B.join(", ")})]})]})})]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:H.infoResult_label,children:"Th\xf4ng tin v\xe9"}),(0,v.jsx)("table",{className:"".concat(H.table," table"),children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"T\xean:"}),(0,v.jsx)("td",{children:null===A||void 0===A||null===(w=A.data)||void 0===w?void 0:w.name})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Email:"}),(0,v.jsx)("td",{children:M})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Tr\u1ea1ng th\xe1i:"}),(0,v.jsxs)("td",{children:[z&&(0,v.jsx)("span",{children:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng"}),D&&(0,v.jsxs)("span",{children:["\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i: ",(0,v.jsx)("span",{className:H.errorColor,children:D})]})]})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"T\u1ed5ng c\u1ed9ng:"}),(0,v.jsx)("td",{valign:"top",children:(0,v.jsx)("span",{children:"".concat(P.toLocaleString("vi-VI")," \u0111")})})]})]})}),z&&(0,v.jsx)("p",{className:H.noteresult,children:"Ki\u1ec3m tra v\xe9 trong th\xf4ng tin c\xe1 nh\xe2n!"})]})})]})}var z=n(4733);function D(e){var t=(0,c.v9)((function(e){return e.bookTicketReducer})),n=t.activeStep,i=t.isSelectedSeat,o=t.listSeatSelected,s=t.isReadyPayment,d=t.maLichChieu,u=t.danhSachVe,g=t.taiKhoanNguoiDung,m=t.loadingBookingTicket,f=t.successBookingTicketMessage,x=t.errorBookTicketMessage,b=(0,l.useHistory)(),j=(0,c.I0)(),y=0===n&&!i||1===n&&!s,k=h({isDisableBtnRight:y}),T=(0,l.useParams)(),S=function(){j({type:r.aZ}),j({type:z.sS}),setTimeout((function(){b.push("/")}),50)},N=function(){switch(n){case 0:return{left:null===o||void 0===o?void 0:o.join(", "),right:"TI\u1ebeP T\u1ee4C"};case 1:return{left:"QUAY L\u1ea0I",right:"\u0110\u1eb6T V\xc9"};case 2:return{left:"MUA TH\xcaM V\xc9 PHIM N\xc0Y",right:"QUAY V\u1ec0 TRANG CH\u1ee6"};default:return{}}};return(0,v.jsxs)("div",{children:[(0,v.jsxs)("section",{className:k.top,children:[(0,v.jsx)("div",{className:k.topLeft,children:(0,v.jsx)("img",{className:k.imgCancel,src:"/img/bookticket/cancel-arrow.png",alt:"cancel",onClick:S})}),["CH\u1eccN GH\u1ebe","THANH TO\xc1N","K\u1ebeT QU\u1ea2 \u0110\u1eb6T V\xc9"].map((function(e,t){return(0,v.jsx)(a.Fragment,{children:n===t&&(0,v.jsx)("p",{className:k.stepName,children:"".concat(String(t+1),". ").concat(e)})},e)})),(0,v.jsx)("img",{onClick:function(){b.push("/taikhoan")},src:p.lq,alt:"avatar",className:k.avatar})]}),(0,v.jsx)("div",{className:k.empty}),(0,v.jsxs)("div",{children:[(0,v.jsx)("main",{style:{display:0===n?"block":"none"},children:(0,v.jsx)(C,{})}),(0,v.jsx)("main",{style:{display:1===n?"block":"none"},children:(0,v.jsx)(M,{})}),(0,v.jsx)("main",{style:{display:2===n?"block":"none"},children:(0,v.jsx)(B,{})}),(0,v.jsx)("div",{style:{height:70}})]}),(0,v.jsxs)("section",{className:k.bottom,children:[(0,v.jsx)("button",{className:"".concat(k.btnLeft," ").concat(k.btnBottom),onClick:function(){1===n&&j({type:r.qB,payload:{activeStep:0}}),2===n&&(f&&(j({type:r.aZ}),j((0,w.tM)(T.maLichChieu))),x&&j({type:r.aZ}))},disabled:0===n,children:N().left}),(0,v.jsx)("button",{className:"".concat(k.btnRight," ").concat(k.btnBottom),disabled:y,onClick:function(){0===n&&j({type:r.qB,payload:{activeStep:1}}),1!==n||!s||m||f||x||j((0,w.lm)({maLichChieu:d,danhSachVe:u,taiKhoanNguoiDung:g})),2===n&&S()},children:N().right})]})]})}var V=(0,u.Z)({bookTicked:{display:"flex"},left:{flex:"75%"},right:{flex:"25%"}}),A=n(28182),H=n(25294),_=n(10968),E=n(55119),W=n(34643),O=n(78420),U=n(38317),G=n(10241),F=(0,u.Z)((function(e){return{root:{width:"100%",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",display:"flex",justifyContent:"space-between",padding:10,height:100},stepper:{padding:0,flexBasis:"80%"},label:{marginTop:"7px !important",color:"#9b9b9b",fontSize:16},account:{cursor:"pointer",textAlign:"center",textTransform:"uppercase",flex:"0 0 150px"},hoTen:{marginTop:7,lineHeight:1.43,color:"#9b9b9b"},avatar:{display:"inline-block",width:"50px",height:"50px",borderRadius:"50%"},stepIcon:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},stepIconActive:{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)",boxShadow:"0 0 11px 11px rgba(180, 236, 81,.25)"},stepIconCompleted:{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}}})),K=(0,U.Z)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(G.Z);function X(){var e=(0,l.useHistory)(),t=F(),n=(0,c.v9)((function(e){return e.bookTicketReducer.activeStep})),i=(0,c.v9)((function(e){return e.authReducer.currentUser}));console.log(i);function o(e){var n,i=e.active,o=e.completed,a={1:(0,v.jsx)(m.Z,{}),2:(0,v.jsx)(W.Z,{}),3:(0,v.jsx)(O.Z,{})};return(0,v.jsx)("div",{className:(0,A.Z)(t.stepIcon,(n={},(0,N.Z)(n,t.stepIconActive,i),(0,N.Z)(n,t.stepIconCompleted,o),n)),children:a[String(e.icon)]})}return(0,v.jsxs)("div",{className:t.root,children:[(0,v.jsx)(H.Z,{alternativeLabel:!0,activeStep:n,className:t.stepper,connector:(0,v.jsx)(K,{}),children:["CH\u1eccN GH\u1ebe","THANH TO\xc1N","TICKET!"].map((function(e){return(0,v.jsx)(_.Z,{children:(0,v.jsx)(E.Z,{classes:{label:t.label},StepIconComponent:o,children:e})},e)}))}),(0,v.jsxs)("div",{className:t.account,onClick:function(){e.push("/taikhoan")},children:[(0,v.jsx)("img",{src:i.image,alt:"avatar",className:t.avatar}),(0,v.jsx)("p",{className:t.hoTen,children:i.name})]})]})}function Y(){var e=V();return(0,v.jsxs)("div",{className:e.bookTicked,children:[(0,v.jsxs)("section",{className:e.left,children:[(0,v.jsx)(X,{}),(0,v.jsx)(C,{})]}),(0,v.jsx)("section",{className:e.right,children:(0,v.jsx)(M,{})})]})}var q=n(83837),$=n(26513),Q=(0,u.Z)({modal:{textAlign:"center",fontSize:17,width:"fit-content",borderRadius:"20px",alignItems:"center",overflowX:"hidden"},padding:{padding:40},over10:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",padding:10,maxWidth:function(e){return e.isMobile?"auto":"480px"},alignItems:"center"},notification:{width:80,marginLeft:29,marginTop:10},textOver:(0,i.Z)({padding:"10px 20px",width:"100%"},b.Xq),btnOver:{color:"#fb4226",border:"1.2px solid #fb4226",borderRadius:"20px",marginTop:10,"&:hover":{color:"#fff",backgroundColor:"#fb4226"}},spaceEvenly:{width:"100%",display:"flex",justifyContent:"space-evenly",paddingBottom:30},btnResult:{color:"#fff",padding:"6px 17px",borderRadius:"20px",backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)","&:hover":{color:"#fff",backgroundImage:"linear-gradient(223deg,#5d9004 0,#1f5f04 100%)"}},txtClick:{color:"#f79320",cursor:"pointer","&:hover":{color:"#0056b3",textDecoration:"initial"}}});function J(){var e=(0,c.v9)((function(e){return e.bookTicketReducer})),t=e.alertOver10,n=e.isMobile,i=e.timeOut,o=e.successBookingTicketMessage,a=e.errorBookTicketMessage,s=e.danhSachPhongVe.thongTinPhim,d=(0,c.I0)(),u=(0,l.useParams)(),h=(0,l.useHistory)(),p=Q({thongTinPhim:s,color:y.yk[null===s||void 0===s?void 0:s.tenCumRap.slice(0,3).toUpperCase()],isMobile:n}),g=!(!o&&!a),m=function(){o&&d((0,w.tM)(u.maLichChieu)),d({type:r.aZ})};return(0,v.jsxs)(q.Z,{open:i||g&&!n||t,classes:{paper:p.modal},maxWidth:"md",children:[i&&!g&&(0,v.jsx)("div",{className:p.padding,children:(0,v.jsxs)("p",{children:["H\u1ebft gi\u1edd! Vui l\xf2ng \u0111\u1eb7t trong v\xf2ng 5 ph\xfat.",(0,v.jsx)("span",{className:p.txtClick,onClick:function(){d({type:r.aZ}),d((0,w.tM)(u.maLichChieu))},children:"\u0110\u1eb7t l\u1ea1i!"})]})}),t&&!i&&(0,v.jsxs)("div",{className:p.over10,children:[(0,v.jsx)("div",{className:p.notification,children:(0,v.jsx)("img",{width:"100%",src:"/img/bookticket/Post-notification.png",alt:"Post-notification"})}),(0,v.jsx)("p",{className:p.textOver,children:"B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ecdn qu\xe1 s\u1ed1 gh\u1ebf \u0111\xe3 ch\u1ecdn"}),(0,v.jsx)($.Z,{variant:"outlined",classes:{root:p.btnOver},onClick:function(){d({type:r.EY}),window.location.reload()},children:"Okay"})]}),!n&&g&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B,{}),(0,v.jsxs)("div",{className:p.spaceEvenly,children:[(0,v.jsxs)($.Z,{classes:{root:p.btnResult},onClick:m,children:[o&&"\u0110\u1eb7t th\xeam gh\u1ebf cho phim n\xe0y!",a&&"C\u1ed1 g\u1eafng th\u1eed l\u1ea1i"]}),(0,v.jsx)($.Z,{classes:{root:p.btnResult},onClick:function(){d({type:r.aZ}),d({type:z.sS}),h.push("/")},children:"V\u1ec1 trang ch\u1ee7"}),(0,v.jsx)($.Z,{classes:{root:p.btnResult},onClick:function(){var e,t;h.push("/payment/".concat(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.id,"/").concat(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.price)),console.log(o)},children:"Thanh to\xe1n ngay!"}),(0,v.jsx)($.Z,{classes:{root:p.btnResult},onClick:m,children:"Thanh to\xe1n sau!"})]})]})]})}var ee=n(934);function te(){var e=(0,c.v9)((function(e){return e.lazyReducer})).isLazy,t=(0,c.v9)((function(e){return e.bookTicketReducer})),n=t.loadingGetListSeat,u=t.refreshKey,h=t.timeOut,g=t.isMobile,m=t.danhSachPhongVe,f=(m.thongTinPhim,m.danhSachGhe,t.errorGetListSeatMessage),x=(t.thongTinPhongVe,(0,c.v9)((function(e){return e.authReducer})).currentUser),b=(0,l.useParams)();console.log(b.maPhim,b.maLichChieu,b.ngayChieu,b.ngayChieu,b.gioChieu,b.maRap);var j=(0,c.I0)(),y=(0,s.Z)(p.Ov),k=e||n,T=(0,a.useState)(),C=(0,o.Z)(T,2),N=C[0],Z=C[1],w=(0,a.useState)(),R=(0,o.Z)(w,2),I=R[0],P=(R[1],(0,a.useState)({})),M=(0,o.Z)(P,2),L=M[0],B=(M[1],(0,a.useState)([])),z=(0,o.Z)(B,2),V=z[0],A=z[1];return(0,a.useEffect)((function(){ee.Z.getThongTinTaiKhoan().then((function(e){console.log(e),Z(e),j({type:d.XP,payload:{data:e.data.data}})})).catch((function(e){console.log(e)}))}),[]),console.log(N),(0,a.useEffect)((function(){return S.Z.getDanhSachPhongVe(b.maLichChieu).then((function(e){console.log("L\u1ea5y gh\u1ebf n\xe8",e.data.data),A(e.data.data),j({type:r.MP,payload:{data:e.data.data}})})).catch((function(e){console.log(e)})),function(){j({type:r.aZ})}}),[]),(0,a.useEffect)((function(){var e,t,n,o,a,l,c=64,s=null===V||void 0===V?void 0:V.map((function(e,t){t%16===0&&c++;var n=String.fromCharCode(c),o=(t%16+1).toString().padStart(2,0);return(0,i.Z)((0,i.Z)({},e),{},{label:n+o,selected:!1})}));j({type:r.Bq,payload:{listSeat:s,maLichChieu:null===b||void 0===b?void 0:b.maLichChieu,hoTen:null===N||void 0===N||null===(e=N.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name,taiKhoanNguoiDung:null===N||void 0===N||null===(n=N.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.id,email:null===N||void 0===N||null===(a=N.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.email,phone:"0376621299",thongTinPhongVe:L.content}})}),[V,N,x,I,h]),(0,a.useEffect)((function(){j({type:r.k_,payload:{isMobile:y}})}),[y]),f?(0,v.jsx)("div",{children:f}):(0,v.jsxs)("div",{style:{display:k?"none":"block",backgroundColor:"white"},children:[g?(0,v.jsx)(D,{},u):(0,v.jsx)(Y,{},u+1),(0,v.jsx)(J,{})]})}},16306:function(e,t,n){n.d(t,{b$:function(){return s},gn:function(){return c},lm:function(){return l},tM:function(){return a}});var i=n(40972),o=n(43525),a=function(e){return function(t){t({type:o.Ts}),console.log("getListSeat: ",e),i.Z.getDanhSachPhongVe(e).then((function(e){console.log("data danh s\xe1ch gh\u1ebf n\xe8: ",e.data),t({type:o.MP,payload:{data:e.data}})})).catch((function(e){var n;t({type:o.KU,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},l=function(e){return console.log("Data \u0111\u1eb7t v\xe9: ",e),function(t){t({type:o.XH}),i.Z.postDatVe(e).then((function(e){t({type:o.sY,payload:{data:e.data}}),console.log("K\u1ebft qu\u1ea3: ",e)})).catch((function(e){var n;t({type:o.wz,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},c=function(e){return function(t){console.log("Truy\u1ec1n v\xf4 th\xeam showtime: ",e),t({type:o.VH}),i.Z.postTaoLichChieu(e).then((function(e){t({type:o.R,payload:{data:e.data}})})).catch((function(e){var n;t({type:o.GV,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},s=function(){return function(e){e({type:o.Y6})}}},21741:function(e,t,n){n.d(t,{EZ:function(){return i},Xq:function(){return o},i2:function(){return a}});var i={"&::-webkit-scrollbar":{backgroundColor:"#e8e3e3",borderRadius:5,height:"13px",width:"5px"},"&::-webkit-scrollbar-track":{borderRadius:5},"&::-webkit-scrollbar-thumb":{borderRadius:5,background:"rgb(0 0 0 / 30%)"}},o={position:"relative","&:after":{content:"''",position:"absolute",bottom:"0",left:"50%",width:"calc(100% - 40px)",transform:"translateX(-50%)",borderBottom:"2px solid rgba(238,238,238,.88)"}},a={position:"relative","&:after":{content:"''",position:"absolute",bottom:"0",left:"50%",width:"100%",transform:"translateX(-50%)",borderBottom:"1px dashed #e9e9e9;"}}},67380:function(e,t,n){var i=n(52007),o=n.n(i),a=function(e){var t;if(!e)return{dayToday:"loading...",dateShort:"loading...",dateFull:"loading...",dDMmYy:"loading..."};if(-1!==(null===(t=e)||void 0===t?void 0:t.indexOf("/"))){var n,i=null===(n=e)||void 0===n?void 0:n.split("/");e="".concat(i[2],"-").concat(i[1],"-").concat(i[0])}var o=new Date(e),a=o.getDay(),l="";0===a&&(l="Ch\u1ee7 nh\u1eadt"),1===a&&(l="Th\u1ee9 hai"),2===a&&(l="Th\u1ee9 ba"),3===a&&(l="Th\u1ee9 t\u01b0"),4===a&&(l="Th\u1ee9 n\u0103m"),5===a&&(l="Th\u1ee9 s\xe1u"),6===a&&(l="Th\u1ee9 b\u1ea3y"),(new Date).toString().slice(0,10)===o.toString().slice(0,10)&&(l="H\xf4m nay");var c="0".concat(o.getDate()).slice(-2),s="0".concat(o.getMonth()+1).slice(-2),r=o.getFullYear(),d=l+", "+c+" th\xe1ng "+s+", "+r,u=o.getTime();return{dayToday:l,dateShort:e,dateFull:d,YyMmDd:"".concat(r,".").concat(s,".").concat(c),getTime:u}};t.Z=a,a.propTypes={ISODate:o().string.isRequired}},90266:function(e,t,n){e.exports=n.p+"static/media/posterBG.455fcef9b599b619deb7.jpg"}}]);
//# sourceMappingURL=6344.918d0b77.chunk.js.map