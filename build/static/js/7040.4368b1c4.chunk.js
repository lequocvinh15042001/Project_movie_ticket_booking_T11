"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[7040],{95960:function(e,n,t){var i=t(65608),o={getListReview:function(){return i.Z.get("/article/getAllPaging?page=0&size=20&articleType=REVIEWS")},getListReviewByUser:function(e){var n="/article/getAll?username=".concat(e);return i.Z.get(n)},postAddReview:function(e){console.log(e);return i.Z.post("/article/addNewReview",e)},deleteReview:function(e){var n="article/changeStatus?articleId=".concat(e,"&status=DELETE");return i.Z.put(n)},putEditReview:function(e){return i.Z.put("/article/update",e)},putDuyetReview:function(e){var n="article/changeStatus?articleId=".concat(e,"&status=APPROVE");return i.Z.put(n)},putTuChoiReview:function(e){var n="article/changeStatus?articleId=".concat(e,"&status=DENY");return i.Z.put(n)}};n.Z=o},97040:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ze}});var i=t(72791),o=t(16789),a=t(79271),r=t(8154),l=t(49708),s=t(87850),c=t(56223),d=t(29439),u=t(38596),m=(0,u.Z)({mobile:{color:"#e9e9e9",backgroundColor:"rgb(10, 32, 41)"},info:{width:"100%",height:"41vw",position:"relative"},banner:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:function(e){return"url(".concat(e.bannerImg,")")},backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},gradient:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"linear-gradient(to top, rgb(10, 32, 41), transparent 100%)"},iframe:{position:"absolute",top:0,left:0,bottom:0,right:0,display:function(e){return e.openVideo?"block":"none"}},shortInfo:{width:"59%",padding:"0px 15px"},movieName:{fontSize:24},c18:{marginRight:"6px",verticalAlign:"13%",backgroundColor:"#fb4226",color:"#fff",fontSize:"16px",borderRadius:"4px",padding:"0 5px",display:"inline-block",textAlign:"center",minWidth:"33px"},btnPlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:80,height:80}}),p=t(67380),h=t(71580),f=t(1413),g=t(45987),v=t(10873),x=t(1370),b=t(21076),j=t(88167),y=t(14900),Z=t(19147),w=t(93188),N=t(83837),C=t(20269),k=t(94026),R=t(46169),T=t(85159),S=t(26513),I=t(54859),D=t(26803),M=t(1288),P=t(67025),B=t(30014),z=t(21830),L=t.n(z),E=t(35667),A=t(35720),W=t(21741),_=(0,u.Z)((function(e){return{root:{width:"100%",maxWidth:870,margin:"auto"},appBarRoot:{backgroundColor:"transparent",boxShadow:"none"},indicator:{backgroundColor:"transparent"},tapRoot:{color:"#fff",opacity:1,fontSize:16,"&:hover":{fontSize:18},transition:"all .2s"},selectedTap:{color:"#fb4226",fontSize:18},noname:{"& .MuiBox-root":{paddingTop:function(e){return e.isMobile?0:24}}},detailMovie:{fontSize:14},contentTitle:{width:"30%",fontWeight:500,fontSize:15},contentInfo:{width:"70%",paddingLeft:10},movieDetail:{color:"#e9e9e9"},danhGia:{marginBottom:15},inputRoot:{maxWidth:"580px",margin:"auto",padding:"0",position:"relative",cursor:"pointer",width:"100%"},avatarReviewer:{position:"absolute",top:"20%",left:"3%"},avatar:{display:"inline-block",float:"left"},avatarImg:{height:"36px",width:"36px",borderRadius:"25px"},inputReviwer:{cursor:"pointer",padding:"10px 10px 10px 60px",width:"100%",height:"60px",borderRadius:"4px",border:"1px solid #e8e8e9",background:"#fff",color:"#9b9b9b",fontSize:"14px","&:focus":{outline:"none"}},imgReviewerStar:{position:"absolute",top:"50%",right:"3%",transform:"translateY(-50%) ",display:"flex",margin:"auto"},itemDis:{padding:"20px 20px 12px",border:"1px solid #e6e6e6",borderBottom:"none",borderRadius:"3px",backgroundColor:"#fff",maxWidth:"580px",width:"100%",margin:"auto",color:"#4a4a4a",marginBottom:15},infoUser:{},liveUser:{marginLeft:10,display:"inline-block"},userName:{color:"#000",fontWeight:500,fontSize:14,textTransform:"capitalize"},timePost:{color:"#9b9b9b",fontSize:12},left:{float:"left"},right:{textAlign:"center",float:"right"},btnDang:{backgroundColor:"#fb4226",borderColor:"#fb4226",color:"#fff",padding:"7px 25px",margin:"0px 0px 7px 0px","&:hover":{backgroundColor:"#fb4226",borderColor:"#fb4226"}},dialogContent:{minHeight:function(e){return e.isMobile?70:95}},textField:{"& .MuiInputLabel-root":{transform:"translate(18px, 29px) scale(1)",color:"#4a4a4a",right:18,top:function(e){return e.isMobile?-15:0}},"& label.Mui-focused":{display:"none"},"& .MuiInput-underline:after":{borderBottomColor:"purple"},"& .MuiOutlinedInput-root":{"& fieldset":{top:0,"& legend":{display:"none"}},"&:hover fieldset":{borderColor:"rgba(0, 0, 0, 0.23)"},"&.Mui-focused fieldset":{borderColor:"#fb4226",boxShadow:"inset 0 1px 1px rgb(0 0 0 / 8%), 0 0 8px rgb(251 66 38 / 60%)",borderWidth:1},"& input":{padding:function(e){return e.isMobile?"20px 20px":"30px 20px"}}}},starPopup:{fontSize:function(e){return e.isMobile?27:40}},pointPopup:{color:"#7ed321",fontSize:function(e){return e.isMobile?27:40}},dialog:{"& .MuiDialog-container":{"& .MuiPaper-root":(0,f.Z)({},W.EZ)}},rootcloseButton:{margin:0,padding:0},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},moreMovie:{margin:"30px auto",textAlign:"center",display:function(e){return e.hideBtn?"none":"block"}},moreMovieButton:{color:"#949494",borderColor:"#949494",padding:"7px 25px",backgroundColor:"transparent","&:hover":{backgroundColor:"#fb4226",borderColor:"#fb4226",color:"#fff"},"@media (hover: none)":{"&:hover":{color:"#949494",borderColor:"#949494",backgroundColor:"transparent"}}}}})),O=t(17709),U=t(93433),H=(0,u.Z)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",minHeight:713,borderRadius:"10px",color:"#000"},leftSection:{borderRight:"1px solid ".concat(e.palette.divider),width:"28%"},indicator:{backgroundColor:"transparent"},wrapper:{justifyContent:"flex-start",flexDirection:"row"},tabRoot:(0,f.Z)({padding:20,textAlign:"left",fontSize:12,opacity:.3,"&:hover":{opacity:1},transition:"all .2s"},W.Xq),logo:{width:50,marginRight:10},rightSection:{width:"72%"},listDay:(0,f.Z)({height:"90px",padding:"16px !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"#fff",borderRadius:10,display:"flex",overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"},W.EZ),dayItem:{padding:10,fontWeight:500,textAlign:"center",cursor:"pointer"}}})),F=t(63318),G=t(60574),Y=(t(35499),t(94086)),V=t(80184);function X(e){e.branch;var n,t,r,l=e.idRap,s=(0,i.useState)(),c=(0,d.Z)(s,2),u=c[0],m=c[1],h=(0,a.useParams)(),g=(0,i.useState)({ngayChieuRender:[],lichChieuPhimData:[],phongChieuData:[]}),v=(0,d.Z)(g,2),x=v[0],b=v[1];(0,i.useEffect)((function(){Y.Z.getThongTinLichChieuPhim(h.maPhim,l).then((function(e){console.log("all l\u1ecbch chi\u1ebfu: ",e.data.data.content);var n=e.data.data.content,t=n.map((function(e){if(new Date(e.startDate).getTime()>=(new Date).getTime())return e.startDate})),i=null===t||void 0===t?void 0:t.filter((function(e){return void 0!==e})),o=(0,U.Z)(new Set(i));b((function(e){return(0,f.Z)((0,f.Z)({},e),{},{ngayChieuRender:o,lichChieuPhimData:n})}))})).catch((function(e){console.log(e)}))}),[]);var j=(0,i.useState)(0),y=(0,d.Z)(j,2),Z=y[0],w=y[1],N=H();(0,o.v9)((function(e){return e.theaterReducer})).theaterList;return(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:N.listDay,children:[0===(null===x||void 0===x?void 0:x.ngayChieuRender.length)&&(0,V.jsx)("p",{style:{padding:10},children:"No show time for this film!"}),null===x||void 0===x||null===(n=x.ngayChieuRender)||void 0===n?void 0:n.map((function(e,n){return(0,V.jsxs)("div",{className:N.dayItem,style:{color:n===Z?"#fb4226":"#000"},onClick:function(){return function(e,n){w(e),Y.Z.getThongTinLichCoNgay(h.maPhim,l,n).then((function(e){var n,t;console.log("Api khi ch\u1ecdn ng\xe0y: ",null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.content),m(null===e||void 0===e?void 0:e.data),console.log("L\u1ecbch n\xe8: ",u)})).catch((function(e){console.log(e)}))}(n,e)},children:[(0,V.jsx)("p",{children:(0,p.Z)(e).dateFull}),(0,V.jsx)("p",{style:{fontSize:n===Z?"18px":"16px",transition:"all .2s"}})]},e.id)}))]}),null===u||void 0===u||null===(t=u.data)||void 0===t||null===(r=t.content)||void 0===r?void 0:r.map((function(e,n){var t,i,o,a;return(0,V.jsx)("div",{children:(0,V.jsx)(F.Z,{tenCumRap:null===e||void 0===e||null===(t=e.room)||void 0===t?void 0:t.name,maLichChieu:null===e||void 0===e?void 0:e.id,lichChieuPhim:e,diaChi:null===e||void 0===e||null===(i=e.branch)||void 0===i?void 0:i.address,defaultExpanded:!0,maPhim:h.maPhim,ngayChieu:null===e||void 0===e?void 0:e.startDate,maPhong:null===e||void 0===e||null===(o=e.room)||void 0===o?void 0:o.id,gioChieu:null===e||void 0===e?void 0:e.startTime,maRap:null===e||void 0===e||null===(a=e.branch)||void 0===a?void 0:a.id,giaVe:null===e||void 0===e?void 0:e.price},null===e||void 0===e?void 0:e.id)},n)}))]})}function q(e){e.data;var n,t,o,a=(0,i.useState)({rapRender:[],cumRapChieuData:[]}),r=(0,d.Z)(a,2),l=r[0],s=r[1],c=H(),u=i.useState(0),m=(0,d.Z)(u,2),p=m[0],h=m[1];return(0,i.useEffect)((function(){Y.Z.getThongTinLichChieuHeThongRap().then((function(e){var n,t,i,o,a;console.log("all branch: ",e),s(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.content);var r=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i.data)||void 0===o||null===(a=o.content)||void 0===a?void 0:a.reduce((function(e,n){return console.log(n),[].concat((0,U.Z)(e),[n])}),[]),l=r.map((function(e){return e}));s((function(e){return(0,f.Z)((0,f.Z)({},e),{},{rapRender:l,cumRapChieuData:r})}))})).catch((function(e){console.log(e)}))}),[]),console.log("R\u1ea1p: ",l),(0,V.jsxs)("div",{className:c.root,children:[(0,V.jsx)(v.Z,{orientation:"vertical",variant:"scrollable",value:p,onChange:function(e,n){h(n)},classes:{root:c.leftSection,indicator:c.indicator},children:null===l||void 0===l||null===(n=l.cumRapChieuData)||void 0===n?void 0:n.map((function(e){return(0,V.jsx)(x.Z,{disableRipple:!0,classes:{wrapper:c.wrapper,root:c.tabRoot},label:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("img",{className:c.logo,src:e.imgURL,alt:"logoTheater"}),(0,V.jsx)("span",{children:e.name})]})},e.id)}))}),(0,V.jsxs)("div",{className:c.rightSection,children:[0===(null===l||void 0===l||null===(t=l.cumRapChieuData)||void 0===t?void 0:t.length)&&(0,V.jsx)("p",{style:{padding:10},children:"No show time for this film!"}),null===l||void 0===l||null===(o=l.cumRapChieuData)||void 0===o?void 0:o.map((function(e,n){return(0,V.jsx)("div",{style:{display:p===n?"block":"none"},children:(0,V.jsx)(X,{branch:e,idRap:e.id})},e.id)}))]})]})}var $=t(97595),K=t(38317),Q=t(38956),J=t(47788),ee=t(55121),ne=(0,u.Z)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:"#000",width:"100%"},listDay:(0,f.Z)({height:"90px",padding:"16px !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"#fff",borderRadius:10,display:"flex",overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"},W.EZ),dayItem:{padding:10,fontWeight:500,textAlign:"center",cursor:"pointer"},logo:{width:50,marginRight:10},nameTheater:{fontWeight:500}}})),te=(0,K.Z)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Q.Z),ie=(0,K.Z)({root:{borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{alignItems:"center",gap:12,"& > img":{width:50},"&$expanded":{margin:"12px 0"}},expanded:{}})(J.Z),oe=(0,K.Z)((function(e){return{root:{padding:0,flexDirection:"column"}}}))(ee.Z);function ae(){var e,n,t=(0,o.v9)(G.pM),a=(0,i.useState)(0),r=(0,d.Z)(a,2),l=r[0],s=r[1],c=i.useState(""),u=(0,d.Z)(c,2),m=u[0],h=u[1],f=ne();return(0,V.jsxs)("div",{className:f.root,children:[(0,V.jsxs)("div",{className:f.listDay,children:[t.isEmptyData&&(0,V.jsx)("p",{style:{padding:10},children:"Hi\u1ec7n t\u1ea1i ch\u01b0a c\xf3 l\u1ecbch chi\u1ebfu cho phim n\xe0y"}),null===(e=t.arrayHeThongRapChieuFilterByDay)||void 0===e?void 0:e.map((function(e,n){return(0,V.jsxs)("div",{className:f.dayItem,style:{color:n===l?"#fb4226":"#000"},onClick:function(){return function(e){s(e)}(n)},children:[(0,V.jsx)("p",{children:(0,p.Z)(e.date).dayToday}),(0,V.jsx)("p",{style:{fontSize:n===l?"18px":"16px",transition:"all .2s"},children:(0,p.Z)(e.date).YyMmDd})]},e.date)}))]}),null===(n=t.arrayHeThongRapChieuFilterByDay)||void 0===n?void 0:n.map((function(e,n){var t;return(0,V.jsx)("div",{style:{display:n===l?"block":"none"},children:null===(t=e.heThongRap)||void 0===t?void 0:t.map((function(e){return(0,V.jsxs)(te,{square:!0,expanded:m===e.tenHeThongRap,onChange:(n=e.tenHeThongRap,function(e,t){h(!!t&&n)}),children:[(0,V.jsxs)(ie,{expandIcon:(0,V.jsx)($.Z,{}),children:[(0,V.jsx)("img",{src:e.logo,alt:"logo",className:f.logo}),(0,V.jsx)("p",{className:f.nameTheater,children:e.tenHeThongRap})]}),(0,V.jsx)(oe,{children:e.cumRapChieu.map((function(e){return(0,V.jsx)(F.Z,{tenCumRap:e.tenCumRap,maLichChieu:e.maLichChieu,lichChieuPhim:e.lichChieuPhim},e.tenCumRap)}))})]},e.tenHeThongRap);var n}))},e.date)}))]})}var re=t(72426),le=t.n(re),se=(t(54871),["isMobile","children","value","index"]);function ce(e){var n=e.isMobile,t=e.children,i=e.value,o=e.index,a=(0,g.Z)(e,se);return(0,V.jsx)("div",(0,f.Z)((0,f.Z)({hidden:i!==o},a),{},{children:(0,V.jsx)(I.Z,{p:n&&0===o?0:3,children:t})}))}function de(e){var n,t,r,c,u,m,h,g,I,z,W,U=e.data,H=e.onClickBtnMuave,F=e.isMobile,Y=e.onIncreaseQuantityComment,X=(0,a.useParams)(),$=(0,o.v9)((function(e){return e.authReducer})).currentUser;console.log("Current User",$);var K=(0,o.v9)((function(e){return e.movieDetailReducer})),Q=K.movieDetailShowtimes;K.errorMovieDetailShowtimes;console.log("Xu\u1ea5t l\u1ecbch chi\u1ebfu c\u1ee7a movie \u0111\xe3 ch\u1ecdn: ",Q);var J=(0,o.v9)((function(e){return e.movieDetailReducer})),ee=J.loadingPostComment,ne=J.postCommentObj,te=J.loadingLikeComment,ie=J.likeCommentObj,oe=(0,o.v9)((function(e){return(0,G.wC)(e,X.maPhim)})).commentList,re=(0,o.I0)(),se=(0,a.useLocation)(),de=(0,a.useHistory)(),ue=(0,i.useState)(0),me=(0,d.Z)(ue,2),pe=me[0],he=me[1],fe=(0,i.useState)(0),ge=(0,d.Z)(fe,2),ve=ge[0],xe=ge[1],be=(0,i.useState)(!1),je=(0,d.Z)(be,2),ye=je[0],Ze=je[1],we=(0,i.useState)(!1),Ne=(0,d.Z)(we,2),Ce=Ne[0],ke=Ne[1],Re=(0,i.useState)({comment:[],page:5,hideBtn:!1,idScrollTo:""}),Te=(0,d.Z)(Re,2),Se=Te[0],Ie=Te[1],De=(0,i.useState)({avtId:null===$||void 0===$||null===(n=$.data)||void 0===n?void 0:n.username,username:null===$||void 0===$||null===(t=$.data)||void 0===t?void 0:t.name,point:2.5,post:"",likes:0,maPhim:X.maPhim,dataTest:!1,createdAt:"",userLikeThisComment:[]}),Me=(0,d.Z)(De,2),Pe=Me[0],Be=Me[1],ze=_({hideBtn:Se.hideBtn,isMobile:F});(0,i.useEffect)((function(){re((0,l.xC)(X.maPhim))}),[]),(0,i.useEffect)((function(){window.scrollTo(0,0),he((function(){return 0})),xe((function(){return H}))}),[H]),(0,i.useEffect)((function(){0!==H&&(0,O.Z)("TapMovieDetail")}),[ve]),(0,i.useEffect)((function(){null!==oe&&void 0!==oe&&oe.length&&!F&&Y(null===oe||void 0===oe?void 0:oe.length)}),[oe]),(0,i.useEffect)((function(){re((0,l.d7)()),ne&&Be((function(e){return(0,f.Z)((0,f.Z)({},e),{},{post:""})}))}),[ne,ie]),(0,i.useEffect)((function(){var e=oe.slice(0,Se.page);Ie((function(n){return(0,f.Z)((0,f.Z)({},n),{},{comment:e})}))}),[oe]),(0,i.useEffect)((function(){Se.idScrollTo&&E.OK.scrollTo(Se.idScrollTo,{duration:800,offset:-79,smooth:"easeInOutQuart"})}),[Se.idScrollTo]);var Le=function(){Ze(!1)},Ee=function(){$||L().fire({title:"You need to login!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"\u0110\u0103ng nh\u1eadp",cancelButtonText:"Kh\xf4ng"}).then((function(e){e.isConfirmed&&de.push("/dangnhap",se.pathname)}))};return(0,V.jsxs)("div",{className:ze.root,id:"TapMovieDetail",children:[(0,V.jsx)(j.Z,{position:"static",color:"default",classes:{root:ze.appBarRoot},children:(0,V.jsxs)(v.Z,{value:pe,onChange:function(e,n){he(n)},centered:!0,classes:{indicator:ze.indicator},children:[null!==(r=se.state)&&void 0!==r&&r.comingMovie?"":(0,V.jsx)(x.Z,{disableRipple:!0,label:"L\u1ecbch chi\u1ebfu",classes:{selected:ze.selectedTap,root:ze.tapRoot}}),(0,V.jsx)(x.Z,{disableRipple:!0,label:"Th\xf4ng tin",classes:{selected:ze.selectedTap,root:ze.tapRoot}}),(0,V.jsx)(x.Z,{disableRipple:!0,label:"\u0110\xe1nh gi\xe1",classes:{selected:ze.selectedTap,root:ze.tapRoot}})]})}),(0,V.jsx)(b.Z,{timeout:400,in:pe===(null!==(c=se.state)&&void 0!==c&&c.comingMovie?"hide":0),children:(0,V.jsx)(ce,{value:pe,index:null!==(u=se.state)&&void 0!==u&&u.comingMovie?"hide":0,isMobile:F,children:F?(0,V.jsx)(ae,{}):(0,V.jsx)(q,{data:Q})})}),(0,V.jsx)(b.Z,{timeout:400,in:pe===(null!==(m=se.state)&&void 0!==m&&m.comingMovie?0:1),children:(0,V.jsx)(ce,{value:pe,index:null!==(h=se.state)&&void 0!==h&&h.comingMovie?0:1,className:ze.noname,children:(0,V.jsxs)("div",{className:"row text-white ".concat(ze.detailMovie),children:[(0,V.jsxs)("div",{className:"col-sm-6 col-xs-12",children:[(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"Ng\xe0y kh\u1edfi chi\u1ebfu"}),(0,V.jsx)("p",{className:"float-left ".concat(ze.contentInfo),children:(0,p.Z)(null===U||void 0===U||null===(g=U.releaseDate)||void 0===g?void 0:g.slice(0,10)).YyMmDd})]}),(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"\u0110\u1ea1o di\u1ec5n"}),(0,V.jsxs)("p",{className:"float-left ".concat(ze.contentInfo),children:[" ",null===U||void 0===U?void 0:U.director," "]})]}),(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"Di\u1ec5n vi\xean"}),(0,V.jsx)("p",{className:"float-left ".concat(ze.contentInfo),children:null===U||void 0===U?void 0:U.actors})]}),(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"Th\u1ec3 lo\u1ea1i"}),(0,V.jsx)("p",{className:"float-left ".concat(ze.contentInfo),children:null===U||void 0===U?void 0:U.categories})]}),(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"Ng\xf4n ng\u1eef"}),(0,V.jsx)("p",{className:"float-left ".concat(ze.contentInfo),children:null===U||void 0===U?void 0:U.language})]}),(0,V.jsxs)("div",{className:"row mb-2",children:[(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"X\u1ebfp lo\u1ea1i"}),(0,V.jsx)("p",{className:"float-left ".concat(ze.contentInfo),children:null===U||void 0===U?void 0:U.rated})]})]}),(0,V.jsxs)("div",{className:"col-sm-6 col-xs-12",children:[(0,V.jsx)("div",{className:"row mb-2",children:(0,V.jsx)("p",{className:"float-left ".concat(ze.contentTitle),children:"Chi ti\u1ebft"})}),(0,V.jsx)("div",{className:"row mb-2",children:(0,V.jsx)("p",{children:null===U||void 0===U?void 0:U.longDescription})})]})]})})}),(0,V.jsx)(b.Z,{timeout:400,in:pe===(null!==(I=se.state)&&void 0!==I&&I.comingMovie?1:2),children:(0,V.jsxs)(ce,{value:pe,index:null!==(z=se.state)&&void 0!==z&&z.comingMovie?1:2,className:ze.noname,children:[(0,V.jsx)("div",{className:ze.danhGia,children:(0,V.jsxs)("div",{className:ze.inputRoot,onClick:function(){$?(Ze(!0),ke(!1)):Ee()},children:[(0,V.jsx)("span",{className:ze.avatarReviewer,children:(0,V.jsx)("img",{src:$?s.lq:s.di,alt:"avatar",className:ze.avatarImg})}),(0,V.jsx)("input",{className:ze.inputReviwer,type:"text",placeholder:"B\u1ea1n ngh\u0129 sao v\u1ec1 phim n\xe0y?",readOnly:"readonly"}),(0,V.jsx)("span",{className:ze.imgReviewerStar,children:(0,V.jsx)(y.Z,{value:5,size:F?"small":"medium",readOnly:!0})})]})}),(0,V.jsx)("div",{className:"text-center mb-2 text-white",hidden:!ee&&!te,children:(0,V.jsx)(A.Z,{size:20,color:"inherit"})}),null===Se||void 0===Se||null===(W=Se.comment)||void 0===W?void 0:W.map((function(e){return(0,V.jsxs)("div",{className:ze.itemDis,id:"idComment".concat(e.createdAt),children:[(0,V.jsxs)("div",{className:ze.infoUser,children:[(0,V.jsxs)("div",{className:ze.left,children:[(0,V.jsx)("span",{className:ze.avatar,children:(0,V.jsx)("img",{src:"https://i.pravatar.cc/150?u=".concat(e.avtId),alt:"avatar",className:ze.avatarImg})}),(0,V.jsxs)("span",{className:ze.liveUser,children:[(0,V.jsx)("p",{className:ze.userName,children:e.username}),(0,V.jsx)("p",{className:ze.timePost,children:le()(e.createdAt).fromNow()})]})]}),(0,V.jsxs)("div",{className:ze.right,children:[(0,V.jsx)("p",{className:"text-success",children:e.point}),(0,V.jsx)(y.Z,{value:5*e.point/10,precision:.5,size:F?"small":"medium",readOnly:!0})]}),(0,V.jsx)("div",{className:"clearfix"})]}),(0,V.jsx)("div",{className:"py-3 mb-3 border-bottom",children:(0,V.jsx)("p",{className:"text-break",children:e.post})}),(0,V.jsxs)("span",{className:"d-inline-block",style:{cursor:"pointer"},onClick:function(){return function(e){if(!te)if($){var n=oe.find((function(n){return n.id===e}));n.userLikeThisComment.includes($.email)?(n.userLikeThisComment=n.userLikeThisComment.filter((function(e){return e!==$.email})),n.likes=n.likes-1):(n.userLikeThisComment.push($.email),n.likes=n.likes+1),re((0,l.xG)(e,n))}else Ee()}(e.id)},children:[(0,V.jsx)("span",{className:"mr-2",children:function(e){var n;return(0,V.jsx)(Z.Z,{style:{color:e.includes(null===$||void 0===$||null===(n=$.data)||void 0===n?void 0:n.email)?"#fb4226":"#73757673"}})}(e.userLikeThisComment)}),(0,V.jsxs)("span",{style:{color:"#737576"},children:[(0,V.jsx)("span",{children:e.likes})," Th\xedch"]})]})]},"".concat(e.createdAt))})),(0,V.jsx)("div",{className:ze.moreMovie,children:(0,V.jsx)(S.Z,{variant:"outlined",onClick:function(){return function(){var e=!1,n=oe.length%5;oe.length%5===0&&(n=5),Se.page+n===oe.length&&(e=!0);var t="idComment".concat(oe[Se.page].createdAt),i=Se.page+5,o=oe.slice(0,i);Ie((function(n){return(0,f.Z)((0,f.Z)({},n),{},{comment:o,page:i,hideBtn:e,idScrollTo:t})}))}()},className:ze.moreMovieButton,children:"Xem th\xeam"})})]})}),(0,V.jsxs)(N.Z,{open:ye,onClose:Le,maxWidth:"sm",fullWidth:!0,className:ze.dialog,children:[(0,V.jsx)(T.Z,{disableTypography:!0,className:ze.rootcloseButton,children:(0,V.jsx)(P.Z,{"aria-label":"close",className:ze.closeButton,onClick:Le,children:(0,V.jsx)(B.Z,{})})}),(0,V.jsxs)(M.Z,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[(0,V.jsx)("span",{className:ze.pointPopup,children:2*Pe.point}),(0,V.jsx)(y.Z,{name:"customStar",size:"large",precision:.5,value:Pe.point,className:ze.starPopup,emptyIcon:(0,V.jsx)(D.Z,{fontSize:"inherit"}),onChange:function(e,n){Be((function(e){return(0,f.Z)((0,f.Z)({},e),{},{point:n})}))}})]}),(0,V.jsx)(k.Z,{className:ze.dialogContent,children:(0,V.jsx)(w.Z,{className:ze.textField,onChange:function(e){return function(e){e.target.value.length>=61&&ke(!1),Be((function(n){return(0,f.Z)((0,f.Z)({},n),{},{post:e.target.value})}))}(e)},fullWidth:!0,value:Pe.post,variant:"outlined",label:Pe.post?"":"N\xf3i l\xean suy ngh\u0129 c\u1ee7a b\u1ea1n..."})}),(0,V.jsxs)(C.Z,{className:"justify-content-center flex-column px-4",children:[Ce&&(0,V.jsx)(R.Z,{className:"text-danger",children:"Vui l\xf2ng g\xf5 h\u01a1n 60 k\xfd t\u1ef1!"}),(0,V.jsx)(S.Z,{onClick:function(){if(!ee)if(Pe.post.length<61)ke(!0);else{ke(!1);var e=(new Date).toISOString();Ze(!1),re((0,l.w)((0,f.Z)((0,f.Z)({},Pe),{},{createdAt:e,point:2*Pe.point})))}},variant:"contained",className:ze.btnDang,children:"\u0110\u0103ng"})]})]})]})}le().locale("vi");var ue=t(25264);function me(e){var n,t=e.movieDetailShowtimes,o=e.isMobile;console.log("==\u0110T==",t);var r=(0,i.useState)(!1),l=(0,d.Z)(r,2),s=l[0],c=l[1],u=(0,a.useParams)(),f=(0,h.Z)(u.maPhim),g=(f.thoiLuong,f.danhGia,m({bannerImg:null===t||void 0===t?void 0:t.smallImageURl,openVideo:s}));return(0,V.jsxs)("div",{className:g.mobile,children:[(0,V.jsxs)("div",{className:g.info,children:[(0,V.jsx)("div",{className:g.banner}),(0,V.jsx)("div",{className:g.gradient}),(0,V.jsx)("iframe",{className:g.iframe,width:"100%",height:"100%",src:"https://www.youtube.com/embed/".concat((0,ue.Z)(null===t||void 0===t?void 0:t.trailerURL)),allowFullScreen:!0,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"trailer movie"}),s||(0,V.jsx)("img",{src:"/img/carousel/play-video.png",className:g.btnPlay,onClick:function(){return c(!0)},alt:"play"})]}),(0,V.jsxs)("div",{className:g.shortInfo,children:[(0,V.jsx)("p",{children:(0,p.Z)(null===t||void 0===t||null===(n=t.releaseDate)||void 0===n?void 0:n.slice(0,10)).YyMmDd}),(0,V.jsx)("p",{children:(0,V.jsx)("span",{className:g.c18,children:null===t||void 0===t?void 0:t.reated})}),(0,V.jsx)("p",{className:g.movieName,children:null===t||void 0===t?void 0:t.name}),(0,V.jsxs)("p",{children:["Th\u1eddi l\u01b0\u1ee3ng: ",null===t||void 0===t?void 0:t.duration," ph\xfat"]})]}),(0,V.jsx)(de,{data:t,isMobile:o})]})}var pe=t(4942),he=(0,u.Z)((function(e){return{desktop:{backgroundColor:"rgb(10, 32, 41)"},top:{width:"100%",height:"27vw",position:"relative"},bannerBlur:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:function(e){return"url(".concat(e.bannerImg,")")},backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(15px)"},gradient:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"linear-gradient(to top, rgb(10, 32, 41), transparent 100%)"},topInfo:{position:"absolute",top:"60%",left:"40%",transform:"translate(-50%,-50%)",width:"100%",height:320,maxWidth:1e3,display:"flex",alignItems:"center",justifyContent:"center",color:"#e9e9e9"},imgTrailer:{width:"25%",height:"100%",position:"relative",backgroundImage:function(e){return"url(".concat(e.bannerImg,")")},backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover","&:hover > div ":{opacity:1}},img:{width:"100%",borderRadius:4},shortInfo:{width:"59%",padding:"0px 15px"},movieName:{fontSize:24},c18:{marginRight:"6px",verticalAlign:"13%",backgroundColor:"#fb4226",color:"#fff",fontSize:"16px",borderRadius:"4px",padding:"0 5px",display:"inline-block",textAlign:"center",minWidth:"33px"},rate:{width:"16%",height:"100%",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},circular:{position:"relative",height:126,width:126},danhGia:{fontSize:53,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},fabProgress:{color:"#7ed321",position:"absolute",top:0,left:0},behined:{color:"#829869",position:"absolute",top:0,left:0},rateStar:{width:"fit-content","& .MuiRating-iconEmpty":{color:"rgba(255, 180, 0, 0.3)"}},withOutImage:{borderRadius:4,width:"100%",height:"100%",animationName:"$myEffect",animationDuration:"3s",animationTimingFunction:"".concat(e.transitions.easing.easeInOut),animationIterationCount:"infinite",background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",backgroundSize:"400% 400%"},"@keyframes myEffect":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}}}})),fe=t(42182),ge=t(5282),ve=t.n(ge),xe=t(70046),be=(t(98246),t(95960)),je=t(1870);function ye(e){var n=e.movieDetailShowtimes,t=(e.isMobile,(0,i.useState)(0)),o=(0,d.Z)(t,2),r=(o[0],o[1],(0,a.useParams)()),l=(0,i.useState)(0),s=(0,d.Z)(l,2),c=(s[0],s[1],(0,h.Z)(r.maPhim)),u=(c.thoiLuong,c.danhGia,he({bannerImg:null===n||void 0===n?void 0:n.smallImageURl})),m=(0,i.useState)(!1),p=(0,d.Z)(m,2),g=p[0],v=p[1],x=((0,a.useLocation)(),(0,i.useState)("")),b=(0,d.Z)(x,2),j=b[0],y=b[1],Z=(0,i.useRef)(null),w=(0,i.useState)(null),N=(0,d.Z)(w,2),C=(N[0],N[1],(0,i.useState)({mainImage:"",title:"",brief:"",description:"",keyword:""})),k=(0,d.Z)(C,2),R=k[0],T=k[1],S=function(e){T((0,f.Z)((0,f.Z)({},R),{},(0,pe.Z)({},e.target.name,e.target.value)))},I=function(e){console.log(R),be.Z.postAddReview(R).then((function(e){console.log("Th\xe0nh c\xf4ng!",e),L().fire({position:"center",icon:"success",title:"\u0110\u0103ng review th\xe0nh c\xf4ng, vui l\xf2ng ch\u1edd duy\u1ec7t!",showConfirmButton:!1,timer:4e3})})).catch((function(e){console.log(e),L().fire({position:"center",icon:"error",title:"\u0110\u0103ng review th\u1ea5t b\u1ea1i, ki\u1ec3m tra l\u1ea1i!",showConfirmButton:!1,timer:4e3})}))};return console.log("SrcImage 1 : ",j),(0,V.jsxs)("div",{className:u.desktop,children:[(0,V.jsxs)("div",{className:u.top,children:[(0,V.jsx)("div",{className:u.gradient}),(0,V.jsx)("div",{className:u.bannerBlur,children:g&&(0,V.jsx)("div",{className:u.withOutImage})}),(0,V.jsxs)("div",{className:u.topInfo,children:[(0,V.jsxs)("div",{className:u.imgTrailer,children:[(0,V.jsx)(fe.Z,{urlYoutube:null===n||void 0===n?void 0:n.trailerURL}),(0,V.jsx)("img",{src:null===n||void 0===n?void 0:n.smallImageURl,alt:"poster",style:{display:"none"},onError:function(e){e.target.onerror=null,v(!0)}}),g&&(0,V.jsx)("div",{className:u.withOutImage})]}),(0,V.jsxs)("div",{className:u.shortInfo,children:[(0,V.jsx)("p",{children:(0,V.jsx)("span",{className:u.c18,children:null===n||void 0===n?void 0:n.rated})}),(0,V.jsx)("p",{className:u.movieName,children:null===n||void 0===n?void 0:n.name}),(0,V.jsxs)("p",{children:["Th\u1eddi l\u01b0\u1ee3ng: ",null===n||void 0===n?void 0:n.duration," ph\xfat"]}),(0,V.jsxs)("p",{children:["M\xf4 t\u1ea3: ",null===n||void 0===n?void 0:n.longDescription]})]})]})]}),(0,V.jsx)("div",{className:"wrapper",style:{margin:"7rem 7rem",zIndex:"-1",paddingBottom:"10rem"},children:(0,V.jsx)(xe.Zb,{className:"shadow-sm  border-0 mt-2",children:(0,V.jsxs)(xe.eW,{children:[(0,V.jsx)("h3",{children:null===n||void 0===n?void 0:n.name}),(0,V.jsxs)(xe.l0,{onSubmit:I,children:[(0,V.jsxs)("div",{className:"my-3",children:[(0,V.jsx)(xe.__,{for:"title",children:"Ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"}),(0,V.jsx)(xe.II,{type:"text",id:"title",placeholder:"G\xf5 v\xe0o \u0111\xe2y...",className:"rounded-0",name:"title",onChange:S})]}),(0,V.jsxs)("div",{className:"my-3",children:[(0,V.jsx)(xe.__,{for:"title",children:"M\xf4 t\u1ea3 ng\u1eafn g\u1ecdn"}),(0,V.jsx)(xe.II,{type:"text",id:"brief",placeholder:"G\xf5 v\xe0o \u0111\xe2y...",className:"rounded-0",name:"brief",onChange:S})]}),(0,V.jsxs)("div",{className:"my-3",children:[(0,V.jsx)(xe.__,{for:"description",children:"N\u1ed9i dung Review"}),(0,V.jsx)(ve(),{ref:Z,value:R.description,onChange:function(e){return function(e){T((0,f.Z)((0,f.Z)({},R),{},{description:e}))}(e)}})]}),(0,V.jsxs)("div",{className:"my-3",children:[(0,V.jsx)(xe.__,{for:"title",children:"Th\xeam keyword"}),(0,V.jsx)(xe.II,{type:"text",id:"keyword",placeholder:"Nh\u1eadp keyword",className:"rounded-0",name:"keyword",onChange:S})]}),(0,V.jsxs)("div",{className:"mt-3",children:[(0,V.jsx)(xe.__,{for:"image",children:"Ch\u1ecdn h\xecnh \u1ea3nh l\xe0m banner cho b\xe0i Review"}),(0,V.jsx)(xe.II,{id:"image",type:"file",onChange:function(e){y(e.target.files[0]),console.log(e.target.files[0])}}),j?(0,V.jsx)("div",{onClick:function(){var e=new FormData;e.append("file",j),e.append("upload_preset","hh37brtc"),e.append("cloud_name","dfb5p3kus"),fetch("https://api.cloudinary.com/v1_1/dfb5p3kus/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){y(e.secure_url),T((0,f.Z)((0,f.Z)({},R),{},{mainImage:e.secure_url}))})).catch((function(e){console.log(e)}))},children:(0,V.jsx)(je.Z,{data:"C\u1eadp nh\u1eadt \u1ea3nh l\xean"})}):null,(0,V.jsx)("img",{style:{width:"50%",height:"50%"},src:j||null})]}),(0,V.jsxs)(xe.W2,{className:"text-center",children:[(0,V.jsx)(xe.zx,{style:{margin:"5px"},type:"button",onClick:I,className:"rounded-0",color:"primary",children:"G\u1eedi Review"}),(0,V.jsx)(xe.zx,{style:{margin:"5px"},className:"rounded-0 ms-2",color:"danger",children:"T\u1ea3i l\u1ea1i trang"})]})]})]})})})]})}function Ze(){var e=(0,r.Z)(s.j8),n=(0,o.v9)((function(e){return e.movieDetailReducer})),t=n.movieDetail,d=n.errorMovieDetail;console.log("Review: ",t);var u=(0,a.useParams)();console.log(u);var m=(0,o.I0)();return(0,i.useEffect)((function(){return console.log("useEF"),m((0,l.TP)(u.maPhim)),function(){m({type:c.Yb})}}),[]),d?(0,V.jsx)("div",{children:d}):(0,V.jsx)(V.Fragment,{children:e?(0,V.jsx)(me,{movieDetailShowtimes:t.data,isMobile:e}):(0,V.jsx)(ye,{movieDetailShowtimes:t.data,isMobile:e})})}},49708:function(e,n,t){t.d(n,{d7:function(){return u},TP:function(){return d},xC:function(){return c},xG:function(){return p},w:function(){return m}});var i=t(74569),o=t.n(i)().create({baseURL:"https://6092b87185ff5100172137f4.mockapi.io/"}),a={getComment:function(){return o.get("/commentMovie")},postComment:function(e){return o.post("/commentMovie",e)},likeComment:function(e,n){var t="/commentMovie/".concat(e);return o.put(t,n)}},r=t(20018),l=t(94086),s=t(56223),c=function(e){return function(n){n({type:s.W9}),console.log("Movie ID: ",e),l.Z.getThongTinLichChieuPhim(e).then((function(e){n({type:s.TZ,payload:{data:e.data}})})).catch((function(e){var t;n({type:s.af,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},d=function(e){return function(n){n({type:s.xh}),console.log("Movie ID: ",e),r.Z.getThongTinPhim(e).then((function(e){n({type:s.jV,payload:{data:e.data}})})).catch((function(e){var t;n({type:s.K2,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},u=function(){return function(e){e({type:s.ff}),a.getComment().then((function(n){e({type:s.uV,payload:{data:n.data}})})).catch((function(n){var t;e({type:s.rq,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},m=function(e){return function(n){n({type:s.Fq}),a.postComment(e).then((function(e){n({type:s.MX,payload:{data:e.data}})})).catch((function(e){var t;n({type:s.z8,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},p=function(e,n){return function(t){t({type:s.pM}),a.likeComment(e,n).then((function(e){t({type:s.oP,payload:{data:e.data}})})).catch((function(e){var n;t({type:s.GA,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}}},1870:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),o=t(29439),a=t(72791),r=t(96015),l=t(96580),s=t(91487),c=t(17205),d=t(55590),u=t(872),m=t(53329),p=t(80184);function h(e){var n=e.data,t=a.useState(!1),h=(0,o.Z)(t,2),f=h[0],g=h[1],v=a.useState(!1),x=(0,o.Z)(v,2),b=x[0],j=x[1],y=a.useRef(),Z=(0,i.Z)({},b&&{bgcolor:s.Z[500],"&:hover":{bgcolor:s.Z[700]}});a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=function(){f||(j(!1),g(!0),y.current=window.setTimeout((function(){j(!0),g(!1)}),2e3))};return(0,p.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,p.jsxs)(r.Z,{sx:{m:1,position:"relative"},children:[(0,p.jsx)(d.Z,{"aria-label":"save",color:"primary",sx:Z,onClick:w,children:b?(0,p.jsx)(u.Z,{}):(0,p.jsx)(m.Z,{})}),f&&(0,p.jsx)(l.Z,{size:68,sx:{color:s.Z[500],position:"absolute",top:-6,left:-6,zIndex:1}})]}),(0,p.jsxs)(r.Z,{sx:{m:1,position:"relative"},children:[(0,p.jsx)(c.Z,{variant:"contained",sx:Z,disabled:f,onClick:w,children:n}),f&&(0,p.jsx)(l.Z,{size:24,sx:{color:s.Z[500],position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})}},17709:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(52007),o=t.n(i);function a(e,n){document.getElementById(e).scrollIntoView({behavior:"smooth",block:n||"nearest"})}a.propTypes={id:o().string.isRequired,block:o().string}}}]);
//# sourceMappingURL=7040.4368b1c4.chunk.js.map