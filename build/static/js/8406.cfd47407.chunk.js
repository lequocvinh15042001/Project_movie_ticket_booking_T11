"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[8406],{18406:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var i=t(1413),a=t(29439),o=t(72791),r=t(26347),l=t(16789),d=t(98246),s=t(35720),c=t(13880),u=t(5088),h=t(83837),g=t(38302),m=t(89526),v=t(47501),f=t(45987),p=t(4942),b=t(38596),x=t(13108),y=t(38317),C=t(85159),T=t(94026),w=t(67025),Z=t(30014),k=t(74829),j=t(80184),N=["children","classes","onClose"],I=(0,b.Z)((function(e){return{control:{margin:"11px 0"},addMovie:{width:"100%"},itemCtro:(0,p.Z)({paddingRight:16,paddingLeft:16},e.breakpoints.up("md"),{paddingRight:32,paddingLeft:32}),search:(0,p.Z)({verticalAlign:"bottom",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,x.U1)(e.palette.info.light,.5),"&:hover":{backgroundColor:(0,x.U1)(e.palette.info.light,1)}},e.breakpoints.down("md"),{marginTop:11}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",textOverflow:"ellipsis",overflow:"hidden",display:"flex"},inputInput:{padding:"8.5px 8.5px 8.5px 0px",paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},rootDataGrid:{"& .Mui-odd":{backgroundColor:"rgb(236,\t236,\t236)","&:hover":{backgroundColor:"rgb(236,\t135,\t14) !important"}},"& .MuiDataGrid-overlay":{zIndex:100},"& .Mui-even":{backgroundColor:"rgb(230, 230, 230)","&:hover":{backgroundColor:"rgb(236,\t135,\t14)"}},"& .MuiDataGrid-columnsContainer":{backgroundColor:"rgb(255, 213, 153)"},"& .custom-header":{backgroundColor:"rgb(236,\t135,\t14)","&:hover":{backgroundColor:"rgb(178,\t0,\t31)"}},"& .MuiDataGrid-colCellCheckbox":{width:48,height:55,minWidth:48,maxHeight:55,backgroundColor:"rgb(255, 213, 153)","&:hover":{backgroundColor:"rgb(255, 203, 127)"}}},button:{margin:e.spacing(1),width:270},rootTrailer:{cursor:"pointer",display:"inline-block",width:50,height:50,position:"relative","&:hover > div":{opacity:1},"& > div > img":{verticalAlign:"top"}},imgTrailer:{width:"100%",height:"100%",borderRadius:4},rootCellExpand:{alignItems:"center",lineHeight:"24px",width:"100%",height:"100%",position:"relative",display:"flex","& .cellValue":{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},contentImage:{display:"flex",alignItems:"center",justifyContent:"space-between"},divImage:{flex:"50%"},image:{width:"auto",maxWidth:50,height:50,borderRadius:4},rootSlider:{flex:"50%",verticalAlign:"middle"},formControl:{display:"block",width:"100%",height:"calc(1.5em + .75rem + 2px)",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:1.5,color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #ced4da",borderRadius:".25rem",transition:"border-color .15s ease-in-out,box-shadow .15s ease-in-out","& > div":{display:"block"}}}})),R=(0,y.Z)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var n=e.children,t=e.classes,a=e.onClose,o=(0,f.Z)(e,N);return(0,j.jsxs)(C.Z,(0,i.Z)((0,i.Z)({disableTypography:!0,className:t.root},o),{},{children:[(0,j.jsx)(g.Z,{variant:"h6",children:n}),a?(0,j.jsx)(w.Z,{"aria-label":"close",className:t.closeButton,onClick:a,children:(0,j.jsx)(Z.Z,{})}):null]}))})),S=((0,k.Z)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#fb4226"}},MuiPickerDTTabs:{tabs:{backgroundColor:"#fb4226"}},MuiPickersDay:{day:{color:"#fb4226"},daySelected:{backgroundColor:"#fb4226"}},MuiButton:{textPrimary:{color:"#fb4226"}},PrivateTabIndicator:{colorSecondary:{backgroundColor:"#3f51b5"}},MuiInputBase:{input:{padding:"3px 0 2px"}},MuiInput:{underline:{display:"flex","&:before":{content:""},"&:after":{content:""}}}}}),(0,y.Z)((function(e){return{root:{padding:e.spacing(2)}}}))(T.Z)),D=t(21076),M=t(24076),B=t(8154),U=function(e){var n=e.width,t=e.value,l=e.field,d=I({field:l}),s=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(null),h=(0,o.useState)(null),f=(0,a.Z)(h,2),p=f[0],b=f[1],x=(0,o.useState)(!1),y=(0,a.Z)(x,2),C=y[0],T=y[1],w=(0,o.useState)(!1),Z=(0,a.Z)(w,2),k=Z[0],N=Z[1],R=(0,o.useState)({widthImage:200,value:20}),S=(0,a.Z)(R,2),U=S[0],L=S[1],P=(0,B.Z)("(max-width:768px)");return(0,j.jsxs)("div",{ref:s,className:d.rootCellExpand,onMouseEnter:function(e){var n="smallImageURl"===l||(0,r.OFR)(u.current),t=P?document.querySelector("body"):c.current;N(n),b(t),T(!0)},onMouseLeave:function(){T(!1)},children:[(0,j.jsx)("div",{ref:c,style:{height:1,width:n,display:"block",position:"absolute",top:0}}),(0,j.jsx)("div",{ref:u,className:"cellValue",children:"smallImageURl"!==l?t:(0,j.jsxs)("div",{className:d.contentImage,children:[(0,j.jsx)("div",{className:d.divImage,children:(0,j.jsx)("img",{className:d.image,src:t,alt:"poster movie"})}),(0,j.jsx)(M.Z,{value:U.value,classes:{root:d.rootSlider},onChange:function(e,n){e.cancelable&&e.preventDefault(),L({widthImage:(200*n+12e3)/80,value:n})}})]})}),k&&(0,j.jsx)(v.Z,{open:C&&null!==p,anchorEl:p,style:{width:"smallImageURl"===l?U.widthImage:n,marginLeft:-17},placement:P?"right-start":"right",transition:!0,children:function(e){var n=e.TransitionProps;return(0,j.jsx)(D.Z,(0,i.Z)((0,i.Z)({},n),{},{timeout:350,children:"smallImageURl"===l?(0,j.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:4},src:t,alt:"poster movie"}):(0,j.jsx)(m.Z,{elevation:1,style:{minHeight:s.current.offsetHeight-3,backgroundColor:"#ffff"},children:(0,j.jsx)(g.Z,{variant:"body2",style:{padding:8},children:t})})}))}})]})};function L(e){return(0,j.jsx)(U,{field:e.field,value:e.value?e.value.toString():"",width:e.colDef.width})}var P=t(30333),A=t.n(P),E=t(75566),O=t(30498);function q(e){e.onDeleted;var n=e.phimItem,t=e.onEdit;e.onTuChoi,(0,O.Z)(n.id);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(E.ZP,{title:"Thanh to\xe1n",children:(0,j.jsx)("button",{onClick:function(){return t(n)},type:"button",className:"btn btn-success",style:{margin:"0.3rem"},children:"Thanh to\xe1n"})})})}var H=t(21830),Q=t.n(H),F=t(56474),G=t(42915),z=t(67380);function K(){return(0,j.jsx)(r.nik,{children:(0,j.jsx)(s.Z,{style:{margin:"auto"}})})}function V(){var e,n,t=(0,o.useState)([]),s=(0,a.Z)(t,2),g=s[0],m=s[1],v=(0,o.useState)([]),f=(0,a.Z)(v,2);f[0],f[1];console.log("billListDisplay: ",g);var p=I(),b=((0,d.Ds)().enqueueSnackbar,(0,l.v9)((function(e){return e.billsManagementReducer}))),x=b.billList,y=(b.loadingBillList,b.loadingDelete),C=b.loadingUpdateBill,T=b.billListTTTaiQuay,w=b.loadingBillListTTTaiQuay;b.errorBillListTTTaiQuay;console.log(T);var Z=(0,l.I0)(),k=(0,o.useRef)(""),N=(0,o.useRef)(!1),D=(0,o.useState)(""),M=(0,a.Z)(D,2),U=M[0],P=M[1],E=(0,o.useRef)(0),O=o.useState(!1),H=(0,a.Z)(O,2),V=H[0],W=H[1],Y=(0,o.useRef)(null),_=((0,B.Z)("(max-width:768px)"),(0,o.useState)([])),X=(0,a.Z)(_,2);X[0],X[1];(0,o.useEffect)((function(){T||Z((0,F.n7)())}),[]),(0,o.useEffect)((function(){if(x||null!==x&&void 0!==x&&x.length){var e=null===x||void 0===x?void 0:x.map((function(e,n){var t,a,o,r,l;return(0,i.Z)((0,i.Z)({},e),{},{hanhDong:"",id:null===e||void 0===e?void 0:e.id,email:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email,idUser:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id,imageUser:null===e||void 0===e||null===(o=e.user)||void 0===o?void 0:o.image,nameUser:null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name,usernameUser:null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.username,createdTime:"".concat((0,z.Z)(null===e||void 0===e?void 0:e.createdTime.slice(0,10)).dateFull,", ").concat(null===e||void 0===e?void 0:e.createdTime.slice(11,19))})}));m(e)}}),[]);var $=function(e){Y.current=e,console.log(Y.current);var n=Q().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"Ch\u1eafc ch\u1eafn thanh to\xe1n?",text:"H\xe3y ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thanh to\xe1n!",icon:"warning",showCancelButton:!0,confirmButtonText:"Thanh to\xe1n ngay!",cancelButtonText:"Kh\xf4ng, d\u1eebng l\u1ea1i!",reverseButtons:!0}).then((function(t){t.isConfirmed?y||G.Z.postThanhToan(e.id).then((function(e){console.log(e),n.fire("\u0110\xe3 thanh to\xe1n!","DONE.","success")})).catch((function(e){console.log(e),n.fire("Bill \u0111\xe3 qu\xe1 h\u1ea1n","Kh\xf4ng th\u1ec3 thanh to\xe1n!","error")})):t.dismiss===Q().DismissReason.cancel&&n.fire("\u0110\xe3 d\u1eebng","Ki\u1ec3m tra th\xf4ng tin v\xe0 n\u1ed9i dung!","error")}))},J=o.useState(!1),ee=(0,a.Z)(J,2),ne=(ee[0],ee[1],[{field:"hanhDong",headerName:"Thanh to\xe1n",width:150,renderCell:function(e){return(0,j.jsx)(q,{onEdit:$,phimItem:e.row})},headerAlign:"center",align:"left",headerClassName:"custom-header"},{field:"createdTime",headerName:"Th\u1eddi gian \u0111\u1eb7t",width:280,type:"dateTime",headerAlign:"center",align:"left",headerClassName:"custom-header"},{field:"price",headerName:"Gi\xe1 (vn\u0111)",type:"number",width:130,headerAlign:"center",align:"center",headerClassName:"custom-header"},{field:"usernameUser",headerName:"T\xe0i kho\u1ea3n ng\u01b0\u1eddi \u0111\u1eb7t",width:180,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:L},{field:"nameUser",headerName:"T\xean ng\u01b0\u1eddi \u0111\u1eb7t",width:100,headerAlign:"center",align:"left",headerClassName:"custom-header",renderCell:L,hide:!0},{field:"id",headerName:"M\xe3 bill",width:100,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:L},{field:"idUser",headerName:"ID \u0111\u1eb7t",width:120,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:L},{field:"email",headerName:"Email",width:200,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:L}]),te={lower:!0,locale:"vi"};return(0,j.jsxs)("div",{style:{height:"80vh",width:"100%",backgroundColor:"white"},children:[(0,j.jsx)("div",{className:p.control,children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-12 col-md-6 ".concat(p.itemCtro),children:(0,j.jsxs)("div",{className:p.search,children:[(0,j.jsx)("div",{className:p.searchIcon,children:(0,j.jsx)(c.Z,{})}),(0,j.jsx)(u.Z,{placeholder:"T\xecm ki\u1ebfm...",classes:{root:p.inputRoot,input:p.inputInput},style:{color:"black"},onChange:function(e){return n=e.target.value,clearTimeout(E.current),void(E.current=setTimeout((function(){P(n)}),500));var n}})]})})})}),(0,j.jsx)(r._$r,{className:p.rootDataGrid,rows:function(){var e,n=null===g||void 0===g?void 0:g.filter((function(e){var n,t,i,a,o,r,l=-1!==(null===(n=A()(null!==(t=null===e||void 0===e?void 0:e.brief)&&void 0!==t?t:"",te))||void 0===n?void 0:n.indexOf(A()(U,te))),d=-1!==(null===(i=A()(null!==(a=null===e||void 0===e?void 0:e.status)&&void 0!==a?a:"",te))||void 0===i?void 0:i.indexOf(A()(U,te))),s=-1!==(null===(o=A()(null!==(r=null===e||void 0===e?void 0:e.type)&&void 0!==r?r:"",te))||void 0===o?void 0:o.indexOf(A()(U,te)));return l||d||s}));k.current&&N.current&&(n=null===(e=n)||void 0===e?void 0:e.map((function(e){return e.id===k.current.id?(0,i.Z)((0,i.Z)({},e),{},{smallImageURl:k.current.smallImageURl}):e})));return n}(),columns:ne,pageSize:25,rowsPerPageOptions:[10,25,50],loading:C||y||w,components:{LoadingOverlay:K,Toolbar:r.npt},sortModel:[{field:"nameUser",sort:"asc"}]}),(0,j.jsxs)(h.Z,{open:V,children:[(0,j.jsx)(R,{onClose:function(){return W(!1)},children:null!==Y&&void 0!==Y&&null!==(e=Y.current)&&void 0!==e&&e.brief?"Ch\u1ec9nh s\u1eeda: ".concat(null===Y||void 0===Y||null===(n=Y.current)||void 0===n?void 0:n.brief):"T\u1ea1o m\u1edbi"}),(0,j.jsx)(S,{dividers:!0})]})]})}},56474:function(e,n,t){t.d(n,{LD:function(){return o},Q:function(){return l},n7:function(){return r}});var i=t(42915),a=t(34626),o=function(e){return function(n){n({type:a.f4}),i.Z.getListBillChuaThanhToanBoiUser(e).then((function(e){console.log(e.data),n({type:a.mv,payload:{data:e.data}})})).catch((function(e){var t;n({type:a.NE,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},r=function(){return function(e){e({type:a.Qq}),i.Z.getListBillChuThanhToan().then((function(n){console.log("TTTQ",n.data),e({type:a.VB,payload:{data:n.data}})})).catch((function(n){var t;e({type:a.i1,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},l=function(e){return function(n){n({type:a.a_}),i.Z.getListBillUserId(e).then((function(e){console.log(e.data),n({type:a.qX,payload:{data:e.data}})})).catch((function(e){var t;n({type:a.gI,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}}},67380:function(e,n,t){var i=t(52007),a=t.n(i),o=function(e){var n;if(!e)return{dayToday:"loading...",dateShort:"loading...",dateFull:"loading...",dDMmYy:"loading..."};if(-1!==(null===(n=e)||void 0===n?void 0:n.indexOf("/"))){var t,i=null===(t=e)||void 0===t?void 0:t.split("/");e="".concat(i[2],"-").concat(i[1],"-").concat(i[0])}var a=new Date(e),o=a.getDay(),r="";0===o&&(r="Ch\u1ee7 nh\u1eadt"),1===o&&(r="Th\u1ee9 hai"),2===o&&(r="Th\u1ee9 ba"),3===o&&(r="Th\u1ee9 t\u01b0"),4===o&&(r="Th\u1ee9 n\u0103m"),5===o&&(r="Th\u1ee9 s\xe1u"),6===o&&(r="Th\u1ee9 b\u1ea3y"),(new Date).toString().slice(0,10)===a.toString().slice(0,10)&&(r="H\xf4m nay");var l="0".concat(a.getDate()).slice(-2),d="0".concat(a.getMonth()+1).slice(-2),s=a.getFullYear(),c=r+", "+l+" th\xe1ng "+d+", "+s,u=a.getTime();return{dayToday:r,dateShort:e,dateFull:c,YyMmDd:"".concat(s,".").concat(d,".").concat(l),getTime:u}};n.Z=o,o.propTypes={ISODate:a().string.isRequired}},30498:function(e,n,t){t.d(n,{Z:function(){return l}});var i=t(29439),a=t(72791),o=(t(74569),t(52007)),r=t.n(o);function l(e){var n=(0,a.useState)(!0),t=(0,i.Z)(n,2),o=t[0];t[1],"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(e);return o}l.propTypes={maPhim:r().number.isRequired}}}]);
//# sourceMappingURL=8406.cfd47407.chunk.js.map