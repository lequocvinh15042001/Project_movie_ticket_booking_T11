{"version":3,"file":"static/js/9536.a92f77d2.chunk.js","mappings":"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","sources":["pages/Register/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as yup from \"yup\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport Swal from \"sweetalert2\";\nimport { makeStyles, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { register, resetErrorLoginRegister } from \"../../reducers/actions/Auth\";\nimport logoTix from \"./logo/logoTix.png\";\n\nexport default function Register() {\n  const useStyles = makeStyles((theme) => ({\n    eye: {\n      position: \"absolute\",\n      top: 107,\n      right: 20,\n      cursor: \"pointer\",\n      color: \"#000\",\n    },\n    eye1: {\n      position: \"absolute\",\n      top: 185,\n      right: 20,\n      cursor: \"pointer\",\n      color: \"#000\",\n    },\n    text: {\n      textAlign: \"center\",\n      fontSize:\"3rem\",\n      marginBottom: \"30px\",\n    },\n  }));\n\n  const { responseRegister, loadingRegister, errorRegister } = useSelector(\n    (state) => state.authReducer\n  );\n  let location = useLocation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [typePassword1, settypePassword1] = useState(\"password\");\n  const [typePassword2, settypePassword2] = useState(\"password\");\n  const classes = useStyles();\n  const theme = useTheme();\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n  useEffect(() => {\n    if (responseRegister) {\n      // đăng ký thành công thì đăng nhập, responseRegister để bỏ qua componentditmount\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"You have successfully registered\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      history.push(\"/dangnhap\", location.state);\n    }\n  }, [responseRegister]);\n  useEffect(() => {\n    return () => {\n      dispatch(resetErrorLoginRegister());\n    };\n  }, []);\n\n  const phoneRegExp =\n    /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n  const signupUserSchema = yup.object().shape({\n    username: yup.string().required(\"*Không được bỏ trống !\"),\n    password: yup.string().required(\"*Không được bỏ trống !\"),\n    repassword: yup.string().required(\"*Không được bỏ trống !\"),\n    email: yup\n      .string()\n      .required(\"*Không được bỏ trống !\")\n      .email(\"* Email không hợp lệ !\"),\n    // soDt: yup\n    //   .string()\n    //   .required(\"*Số điện thoại không được bỏ trống !\")\n    //   .matches(phoneRegExp, \"Số điện thoại không hợp lệ!\"),\n      name: yup.string().required(\"*Không được bỏ trống !\"),\n  });\n\n  const handleSubmit = (user) => {\n    // trường hợp nào thì cho đăng ký(return true): loadingRegister=false và responseRegister=null\n    console.log(`user`, user);\n\n    const info = {\n      email: user.email,\n      name: user.name,\n      password: user.password,\n      username: user.username,\n    }\n\n    if (!loadingRegister && !responseRegister) {\n      if(user.password === user.repassword)\n      {\n        dispatch(register(info));\n      }\n    }\n  };\n  const handleToggleHidePassword1 = () => {\n    if (typePassword1 === \"password\") {\n      settypePassword1(\"text\");\n    } else {\n      settypePassword1(\"password\");\n    }\n  };\n  const handleToggleHidePassword2 = () => {\n    if (typePassword2 === \"password\") {\n      settypePassword2(\"text\");\n    } else {\n      settypePassword2(\"password\");\n    }\n  };\n\n  return (\n    <div className=\"text-light\" style={{ padding: \"20px 32px 30px\" }}>\n      <div className=\"container\">\n        {/* <img\n          src={logoTix}\n          alt=\"logoTix\"\n          style={{\n            width: \"200px\",\n            marginBottom: \"10px\",\n            cursor: \"pointer\",\n            display: \"block\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n          }}\n        /> */}\n        <p style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\n          Đăng ký tài khoản để trải nghiệm dịch vụ tuyệt vời!\n        </p>\n      </div>\n      <Formik\n        initialValues={{\n          username: \"\",\n          password: \"\",\n          email: \"\",\n          name: \"\",\n        }}\n        validationSchema={signupUserSchema} // validationSchdema:  thu vien yup nhập sai ko submit được\n        onSubmit={handleSubmit}\n      >\n        {(formikProps) => (\n          <Form className=\"col-sm-12\">\n            <div className=\"form-group\">\n              <label>Tên tài khoản&nbsp;</label>\n              <ErrorMessage\n                name=\"username\"\n                render={(msg) => <span className=\"text-danger\">{msg}</span>}\n              />\n              <Field name=\"username\" type=\"text\" className=\"form-control\" />\n            </div>\n            <div className=\"form-group\">\n              <label>Mật khẩu&nbsp;</label>\n              <ErrorMessage\n                name=\"password\"\n                render={(msg) => <span className=\"text-danger\">{msg}</span>}\n              />\n              <Field name=\"password\" type={typePassword1} className=\"form-control\" />\n              <div\n                className={classes.eye}\n                onClick={handleToggleHidePassword1}\n              >\n                {typePassword1 !== \"password\" ? (\n                  <i className=\"fa fa-eye-slash\" style={{\"color\":\"black\"}}></i>\n                ) : (\n                  <i className=\"fa fa-eye\" style={{\"color\":\"black\"}}></i>\n                )}\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label>Nhập lại mật khẩu&nbsp;</label>\n              <ErrorMessage\n                name=\"repassword\"\n                render={(msg) => <span className=\"text-danger\">{msg}</span>}\n              />\n              <Field name=\"repassword\" type={typePassword2} className=\"form-control\" />\n              <div\n                className={classes.eye1}\n                onClick={handleToggleHidePassword2}\n              >\n                {typePassword2 !== \"password\" ? (\n                  <i className=\"fa fa-eye-slash\" style={{\"color\":\"black\"}}></i>\n                ) : (\n                  <i className=\"fa fa-eye\" style={{\"color\":\"black\"}}></i>\n                )}\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label>Họ và tên&nbsp;</label>\n              <ErrorMessage\n                name=\"name\"\n                render={(msg) => <span className=\"text-danger\">{msg}</span>}\n              />\n              <Field name=\"name\" type=\"text\" className=\"form-control\" />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Email&nbsp;</label>\n              <ErrorMessage\n                name=\"email\"\n                render={(msg) => <span className=\"text-danger\">{msg}</span>}\n              />\n              <Field name=\"email\" type=\"email\" className=\"form-control\" />\n            </div>\n            {/* <div className=\"form-group\">\n              <label>Loại tài khoản&nbsp;</label>\n              <div>\n                <label>\n                  <Field type=\"radio\" name=\"maLoaiNguoiDung\" value=\"KhachHang\" />\n                  Khách Hàng\n                </label>\n                <label>\n                  <Field type=\"radio\" name=\"maLoaiNguoiDung\" value=\"QuanTri\" />\n                  Quản Trị\n                </label>\n              </div>\n            </div> */}\n            <div className=\"text-center p-2\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-success\"\n                disable={loadingRegister.toString()}\n              >\n                Đăng ký\n              </button>\n              {/* error from api */}\n              {errorRegister && (\n                <div className=\"alert alert-danger\">\n                  <span>{errorRegister}</span>\n                </div>\n              )}\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n"],"names":["Register","useStyles","makeStyles","theme","eye","position","top","right","cursor","color","eye1","text","textAlign","fontSize","marginBottom","useSelector","state","authReducer","responseRegister","loadingRegister","errorRegister","location","useLocation","history","useHistory","dispatch","useDispatch","useState","typePassword1","settypePassword1","typePassword2","settypePassword2","classes","useTheme","useMediaQuery","breakpoints","up","useEffect","Swal","icon","title","showConfirmButton","timer","push","resetErrorLoginRegister","signupUserSchema","yup","shape","username","required","password","repassword","email","name","handleToggleHidePassword1","handleToggleHidePassword2","className","style","padding","initialValues","validationSchema","onSubmit","user","console","log","info","register","formikProps","render","msg","type","onClick","disable","toString"],"sourceRoot":""}