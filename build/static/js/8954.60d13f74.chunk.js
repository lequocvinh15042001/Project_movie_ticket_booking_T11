"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[8954],{934:function(n,t,e){var i=e(65608),o={postDangKy:function(n){return i.Z.post("/auth/signup",n)},postDangNhap:function(n){return console.log(n),i.Z.post("/auth/signin",n)},getDanhSachNguoiDung:function(){return i.Z.get("/user/getAll")},getDanhSachNguoiDungPhanTrang:function(n,t){return i.Z.get("/",{soTrang:n,soPhanTuTrenTrang:t})},postThemNhanVien:function(n){return i.Z.post("/auth/registerStaff",n)},postThemNguoiDung:function(n){return i.Z.post("/auth/signup",n)},getTicket:function(n){var t="/tickets?userId=".concat(n);return i.Z.get(t)},getTicketUser:function(n){var t="/tickets?userId=".concat(n);return i.Z.get(t)},getTicketByAdminStaff:function(){return i.Z.get("/tickets/getList")},deleteUser:function(n){var t="user/".concat(n);return i.Z.delete(t)},editTaiKhoan:function(n){return i.Z.put("/user/updateInfo",n)},editPassword:function(n,t){var e="/auth/changePassword?newPassword=".concat(n,"&oldPassword=").concat(t);return i.Z.put(e)},getThongTinTaiKhoan:function(){return i.Z.get("/user/me")},getChiTietTaiKhoan:function(n){var t="/user/".concat(n);return i.Z.get(t)},getChiTietTaiKhoanReviewer:function(n){var t="/user/".concat(n);return i.Z.get(t)}};t.Z=o},38954:function(n,t,e){e.r(t),e.d(t,{default:function(){return $}});var i=e(29439),o=e(72791),r=e(98246),a=e(16789),c=e(80881),s=e(10760),l=e(31706),u=e(79271),d=e(38596),h=e(54859),g=e(17447),f=e(52067),v=e(70272),p=e(38302),m=e(12168),x=e(71600),Z=e(75566),y=e(1413),j=e(45987),T=e(28182),w=e(78096),k=e(26513),b=e(21830),C=e.n(b),N=e(80184),D=["className","href","icon","title"],B=(0,d.Z)((function(n){return{item:{display:"flex",paddingTop:0,paddingBottom:0,position:"relative",zIndex:1201},button:{color:n.palette.text.secondary,fontWeight:n.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:n.spacing(1)},title:{marginRight:"auto"},active:{color:n.palette.primary.main,"& $title":{fontWeight:n.typography.fontWeightMedium},"& $icon":{color:n.palette.primary.main}}}})),S=function(n){var t=n.className,e=n.href,i=n.icon,o=n.title,r=(0,j.Z)(n,D),c=(0,a.v9)((function(n){return n.usersManagementReducer.isExistUserModified})),s=B(),l=(0,u.useHistory)(),d=(0,u.useLocation)();return(0,N.jsx)(w.Z,(0,y.Z)((0,y.Z)({className:(0,T.Z)(s.item,t),disableGutters:!0},r),{},{children:(0,N.jsxs)(k.Z,{className:(0,T.Z)(s.button,d.pathname===e&&s.active),onClick:function(){c&&"/admin/users"===d.pathname&&"/admin/users"!==e?C().fire({title:"D\u1eef li\u1ec7u \u0111\xe3 ch\u1ec9nh s\u1eeda s\u1ebd b\u1ecb m\u1ea5t khi chuy\u1ec3n trang?",text:"B\u1ea1n kh\xf4ng th\u1ec3 ho\xe0n nguy\xean!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Chuy\u1ec3n trang!",cancelButtonText:"\u1ede l\u1ea1i!"}).then((function(n){n.isConfirmed&&l.push(e)})):l.push(e)},children:[i&&(0,N.jsx)(i,{className:s.icon,size:"20"}),(0,N.jsx)("span",{className:s.title,children:o})]})}))},E=(e(87850),e(84731)),M=e(934),P=[{href:"/admin/dashboard",icon:s.Z,title:"Th\u1ed1ng k\xea"},{href:"/admin/movies",icon:c.Z,title:"Qu\u1ea3n l\xfd phim"},{href:"/admin/users",icon:s.Z,title:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"},{href:"/admin/branch",icon:l.Z,title:"Qu\u1ea3n l\xfd chi nh\xe1nh r\u1ea1p"},{href:"/admin/reviews",icon:l.Z,title:"Qu\u1ea3n l\xfd Review"},{href:"/admin/category",icon:l.Z,title:"Qu\u1ea3n l\xfd Category"},{href:"/admin/events",icon:l.Z,title:"Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n"},{href:"/admin/ticket",icon:l.Z,title:"Qu\u1ea3n l\xfd v\xe9"},{href:"/admin/showtimes",icon:l.Z,title:"Qu\u1ea3n l\xfd l\u1ecbch chi\u1ebfu"}],R=(0,d.Z)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,position:"relative",height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}}));function I(n){n.onMobileClose,n.openMobile;var t=R(),e=((0,u.useLocation)(),(0,u.useHistory)()),r=(0,a.I0)(),c=(0,o.useState)(),s=(0,i.Z)(c,2),l=s[0],d=s[1];(0,a.v9)((function(n){return n.authReducer})).currentUser;console.log(l),(0,o.useEffect)((function(){r({type:E.dz}),M.Z.getThongTinTaiKhoan().then((function(n){d(n.data.data),r({type:E.uH,payload:{data:n.data}})})).catch((function(n){var t,e,i;return r({type:E.vQ,payload:{error:null!==(t=n.response)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.data?null===(i=n.response.data)||void 0===i?void 0:i.data:n.message}}),null}))}),[]);var y={avatar:null===l||void 0===l?void 0:l.image,jobTitle:"Qu\u1ea3n tr\u1ecb vi\xean",name:null===l||void 0===l?void 0:l.name},j=(0,N.jsxs)(h.Z,{height:"100%",display:"flex",flexDirection:"column",children:[(0,N.jsx)(g.Z,{}),(0,N.jsx)(h.Z,{p:2,children:(0,N.jsx)(f.Z,{children:null===P||void 0===P?void 0:P.map((function(n){return(0,N.jsx)(S,{href:null===n||void 0===n?void 0:n.href,title:null===n||void 0===n?void 0:n.title,icon:null===n||void 0===n?void 0:n.icon},null===n||void 0===n?void 0:n.title)}))})}),(0,N.jsxs)(h.Z,{alignItems:"center",display:"flex",flexDirection:"column",p:5,children:[(0,N.jsx)(Z.ZP,{title:"User information",children:(0,N.jsx)(v.Z,{className:t.avatar,src:null===y||void 0===y?void 0:y.avatar,onClick:function(){e.push("/taikhoan")}})}),(0,N.jsx)(p.Z,{className:t.name,color:"textPrimary",variant:"h5",children:null===y||void 0===y?void 0:y.name}),(0,N.jsx)(p.Z,{color:"textSecondary",variant:"body2",children:null===y||void 0===y?void 0:y.jobTitle})]})]});return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(m.Z,{mdDown:!0,children:(0,N.jsx)(x.ZP,{anchor:"left",classes:{paper:t.desktopDrawer},open:!0,variant:"persistent",children:j})})})}var Q=e(88167),K=e(77690),U=e(67025),z=e(24364),L=e(68336),O=e(95737),W=e(99282),A=e(44212),F=e(4733),H=["onMobileNavOpen"],G=function(n){var t=n.onMobileNavOpen,e=(0,j.Z)(n,H),r=(0,o.useState)([]),c=(0,i.Z)(r,1)[0],s=(0,a.I0)(),l=(0,u.useHistory)();return(0,N.jsx)(Q.Z,(0,y.Z)((0,y.Z)({elevation:0,position:"static"},e),{},{children:(0,N.jsxs)(K.Z,{children:[(0,N.jsx)("div",{onClick:function(){s({type:F.sS}),setTimeout((function(){l.push("/","")}),50)},style:{cursor:"pointer"},children:(0,N.jsx)("h5",{children:"GOLDEN TICKET NEW WEBSITE"})}),(0,N.jsx)(h.Z,{flexGrow:1}),(0,N.jsxs)(m.Z,{mdDown:!0,children:[(0,N.jsx)(U.Z,{color:"inherit",children:(0,N.jsx)(z.Z,{badgeContent:c.length,color:"secondary",variant:"dot",children:(0,N.jsx)(O.Z,{})})}),(0,N.jsx)(Z.ZP,{title:"Log out",children:(0,N.jsx)(U.Z,{color:"inherit",onClick:function(){var n=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"\u0110\u0103ng xu\u1ea5t!",text:"Ch\u1eafc ch\u1eafn b\u1ea1n mu\u1ed1n \u0111\u0103ng xu\u1ea5t?",icon:"warning",showCancelButton:!0,confirmButtonText:"Okay, ngay b\xe2y gi\u1edd!",cancelButtonText:"Kh\xf4ng, d\u1eebng l\u1ea1i!",reverseButtons:!0}).then((function(t){t.isConfirmed?(s({type:A.Nv}),n.fire("\u0110\xe3 \u0111\u0103ng xu\u1ea5t!","DONE.","success")):t.dismiss===C().DismissReason.cancel&&n.fire("\u0110\xe3 d\u1eebng","Kh\xf4ng \u0111\u0103ng xu\u1ea5t!","error")}))},children:(0,N.jsx)(W.Z,{})})})]}),(0,N.jsx)(m.Z,{lgUp:!0,children:(0,N.jsx)(U.Z,{color:"inherit",onClick:t,children:(0,N.jsx)(L.Z,{})})})]})}))};function $(n){var t,e=(0,o.useState)(!1),c=(0,i.Z)(e,2),s=(c[0],c[1],(0,a.I0)()),l=(0,a.v9)((function(n){return n.authReducer})).currentUser,u=(0,o.useState)(),d=(0,i.Z)(u,2),h=(d[0],d[1],(0,o.useState)()),g=(0,i.Z)(h,2),f=(g[0],g[1]);return(0,o.useEffect)((function(){M.Z.getThongTinTaiKhoan().then((function(n){f(null===n||void 0===n?void 0:n.data),s({type:A.XP,payload:{data:null===n||void 0===n?void 0:n.data}})})).catch((function(n){var t,e,i,o;s({type:A.Qj,payload:{error:null!==(t=n.response)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.data?null===(i=n.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.data:n.message}})}))}),[]),"[ROLE_ADMIN]"===!(null!==l&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.role)?(0,N.jsx)(N.Fragment,{children:n.children}):(0,N.jsx)(r.wT,{maxSnack:3,children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(G,{style:{backgroundColor:"black"}}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{style:{width:255,backgroundColor:"white"},children:(0,N.jsx)(I,{})}),(0,N.jsx)("div",{style:{width:"calc(100% - 255px)",backgroundColor:"white",height:"100vh"},children:n.children})]})]})})}},10760:function(n,t,e){var i=e(64836),o=e(75263);t.Z=void 0;var r=o(e(72791)),a=(0,i(e(44894)).default)(r.createElement(r.Fragment,null,r.createElement("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87z"}),r.createElement("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"}),r.createElement("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24zM9 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"})),"PeopleAlt");t.Z=a}}]);
//# sourceMappingURL=8954.60d13f74.chunk.js.map