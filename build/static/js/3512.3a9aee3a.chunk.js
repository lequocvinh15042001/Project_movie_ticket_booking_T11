"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[3512],{934:function(e,n,t){var i=t(65608),r={postDangKy:function(e){return i.Z.post("/auth/signup",e)},postDangNhap:function(e){return console.log(e),i.Z.post("/auth/signin",e)},getDanhSachNguoiDung:function(){return i.Z.get("/user/getAll")},getDanhSachNguoiDungPhanTrang:function(e,n){return i.Z.get("/",{soTrang:e,soPhanTuTrenTrang:n})},postThemNhanVien:function(e){return i.Z.post("/auth/registerStaff",e)},postThemNguoiDung:function(e){return i.Z.post("/auth/signup",e)},getTicket:function(e){var n="/tickets?userId=".concat(e);return i.Z.get(n)},getTicketUser:function(e){var n="/tickets?userId=".concat(e);return i.Z.get(n)},getTicketByAdminStaff:function(){return i.Z.get("/tickets/getList")},deleteUser:function(e){var n="user/".concat(e);return i.Z.delete(n)},editTaiKhoan:function(e){return i.Z.put("/user/updateInfo",e)},editPassword:function(e,n){var t="/auth/changePassword?newPassword=".concat(e,"&oldPassword=").concat(n);return i.Z.put(t)},getThongTinTaiKhoan:function(){return i.Z.get("/user/me")},getChiTietTaiKhoan:function(e){var n="/user/".concat(e);return i.Z.get(n)},getChiTietTaiKhoanReviewer:function(e){var n="/user/".concat(e);return i.Z.get(n)}};n.Z=r},90943:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i=t(1413),r=t(93433),o=t(29439),a=t(72791),l=t(26347),d=t(16789),c=t(35720),u=t(13880),s=t(5088),h=t(38302),g=t(89526),v=t(47501),f=t(45987),m=t(4942),p=t(38596),b=t(13108),C=t(38317),x=t(85159),y=t(94026),Z=t(67025),w=t(30014),k=t(74829),T=t(80184),N=["children","classes","onClose"],D=(0,p.Z)((function(e){return{control:{margin:"11px 0"},addMovie:{width:"100%"},itemCtro:(0,m.Z)({paddingRight:16,paddingLeft:16},e.breakpoints.up("md"),{paddingRight:32,paddingLeft:32}),search:(0,m.Z)({verticalAlign:"bottom",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,b.U1)(e.palette.info.light,.5),"&:hover":{backgroundColor:(0,b.U1)(e.palette.info.light,1)}},e.breakpoints.down("md"),{marginTop:11}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",textOverflow:"ellipsis",overflow:"hidden",display:"flex"},inputInput:{padding:"8.5px 8.5px 8.5px 0px",paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},rootDataGrid:{"& .Mui-odd":{backgroundColor:"rgb(236,\t236,\t236)","&:hover":{backgroundColor:"rgb(236,\t135,\t14) !important"}},"& .MuiDataGrid-overlay":{zIndex:100},"& .Mui-even":{backgroundColor:"rgb(230, 230, 230)","&:hover":{backgroundColor:"rgb(236,\t135,\t14)"}},"& .MuiDataGrid-columnsContainer":{backgroundColor:"rgb(255, 213, 153)"},"& .custom-header":{backgroundColor:"rgb(236,\t135,\t14)","&:hover":{backgroundColor:"rgb(178,\t0,\t31)"}},"& .MuiDataGrid-colCellCheckbox":{width:48,height:55,minWidth:48,maxHeight:55,backgroundColor:"rgb(255, 213, 153)","&:hover":{backgroundColor:"rgb(255, 203, 127)"}}},button:{margin:e.spacing(1),width:270},rootTrailer:{cursor:"pointer",display:"inline-block",width:50,height:50,position:"relative","&:hover > div":{opacity:1},"& > div > img":{verticalAlign:"top"}},imgTrailer:{width:"100%",height:"100%",borderRadius:4},rootCellExpand:{alignItems:"center",lineHeight:"24px",width:"100%",height:"100%",position:"relative",display:"flex","& .cellValue":{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},contentImage:{display:"flex",alignItems:"center",justifyContent:"space-between"},divImage:{flex:"50%"},image:{width:"auto",maxWidth:50,height:50,borderRadius:4},rootSlider:{flex:"50%",verticalAlign:"middle"},formControl:{display:"block",width:"100%",height:"calc(1.5em + .75rem + 2px)",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:1.5,color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #ced4da",borderRadius:".25rem",transition:"border-color .15s ease-in-out,box-shadow .15s ease-in-out","& > div":{display:"block"}}}})),j=((0,C.Z)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var n=e.children,t=e.classes,r=e.onClose,o=(0,f.Z)(e,N);return(0,T.jsxs)(x.Z,(0,i.Z)((0,i.Z)({disableTypography:!0,className:t.root},o),{},{children:[(0,T.jsx)(h.Z,{variant:"h6",children:n}),r?(0,T.jsx)(Z.Z,{"aria-label":"close",className:t.closeButton,onClick:r,children:(0,T.jsx)(w.Z,{})}):null]}))})),(0,k.Z)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#fb4226"}},MuiPickerDTTabs:{tabs:{backgroundColor:"#fb4226"}},MuiPickersDay:{day:{color:"#fb4226"},daySelected:{backgroundColor:"#fb4226"}},MuiButton:{textPrimary:{color:"#fb4226"}},PrivateTabIndicator:{colorSecondary:{backgroundColor:"#3f51b5"}},MuiInputBase:{input:{padding:"3px 0 2px"}},MuiInput:{underline:{display:"flex","&:before":{content:""},"&:after":{content:""}}}}}),(0,C.Z)((function(e){return{root:{padding:e.spacing(2)}}}))(y.Z),t(21076)),I=t(24076),R=t(8154),S=function(e){var n=e.width,t=e.value,r=e.field,d=D({field:r}),c=(0,a.useRef)(null),u=(0,a.useRef)(null),s=(0,a.useRef)(null),f=(0,a.useState)(null),m=(0,o.Z)(f,2),p=m[0],b=m[1],C=(0,a.useState)(!1),x=(0,o.Z)(C,2),y=x[0],Z=x[1],w=(0,a.useState)(!1),k=(0,o.Z)(w,2),N=k[0],S=k[1],P=(0,a.useState)({widthImage:200,value:20}),E=(0,o.Z)(P,2),M=E[0],A=E[1],L=(0,R.Z)("(max-width:768px)");return(0,T.jsxs)("div",{ref:c,className:d.rootCellExpand,onMouseEnter:function(e){var n="smallImageURl"===r||(0,l.OFR)(s.current),t=L?document.querySelector("body"):u.current;S(n),b(t),Z(!0)},onMouseLeave:function(){Z(!1)},children:[(0,T.jsx)("div",{ref:u,style:{height:1,width:n,display:"block",position:"absolute",top:0}}),(0,T.jsx)("div",{ref:s,className:"cellValue",children:"smallImageURl"!==r?t:(0,T.jsxs)("div",{className:d.contentImage,children:[(0,T.jsx)("div",{className:d.divImage,children:(0,T.jsx)("img",{className:d.image,src:t,alt:"poster movie"})}),(0,T.jsx)(I.Z,{value:M.value,classes:{root:d.rootSlider},onChange:function(e,n){e.cancelable&&e.preventDefault(),A({widthImage:(200*n+12e3)/80,value:n})}})]})}),N&&(0,T.jsx)(v.Z,{open:y&&null!==p,anchorEl:p,style:{width:"smallImageURl"===r?M.widthImage:n,marginLeft:-17},placement:L?"right-start":"right",transition:!0,children:function(e){var n=e.TransitionProps;return(0,T.jsx)(j.Z,(0,i.Z)((0,i.Z)({},n),{},{timeout:350,children:"smallImageURl"===r?(0,T.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:4},src:t,alt:"poster movie"}):(0,T.jsx)(g.Z,{elevation:1,style:{minHeight:c.current.offsetHeight-3,backgroundColor:"#ffff"},children:(0,T.jsx)(h.Z,{variant:"body2",style:{padding:8},children:t})})}))}})]})};function P(e){return(0,T.jsx)(S,{field:e.field,value:e.value?e.value.toString():"",width:e.colDef.width})}var E=t(30333),M=t.n(E),A=t(32950),L=t(15722),O=t(75566),G=t(67380);function H(){return(0,T.jsx)(l.nik,{children:(0,T.jsx)(c.Z,{style:{margin:"auto"}})})}function U(){var e=(0,a.useState)([]),n=(0,o.Z)(e,2),t=n[0],c=n[1],h=D(),g=(0,d.v9)((function(e){return e.ticketReducer})),v=g.allTicketList,f=g.loadingAllTicketList,m=(0,d.I0)(),p=(0,a.useState)(""),b=(0,o.Z)(p,2),C=b[0],x=b[1],y=(0,a.useRef)(0);(0,a.useEffect)((function(){if(v&&0!==v.length){var e=v.reduce((function(e,n){var t,o,a,l,d,c,u,s,h,g,v,f,m,p,b,C;return[].concat((0,r.Z)(e),[(0,i.Z)((0,i.Z)({},n),{},{tenNguoiDat:null===n||void 0===n||null===(t=n.bill)||void 0===t||null===(o=t.user)||void 0===o?void 0:o.name,ngayDat:new Date(null===n||void 0===n||null===(a=n.bill)||void 0===a?void 0:a.createdTime.slice(0,10)).toLocaleDateString(),gioDat:new Date(null===n||void 0===n||null===(l=n.bill)||void 0===l?void 0:l.createdTime).toLocaleTimeString(),maVe:null===n||void 0===n||null===(d=n.bill)||void 0===d?void 0:d.id,phimDat:null===n||void 0===n||null===(c=n.schedule)||void 0===c||null===(u=c.movie)||void 0===u?void 0:u.name,rapChieu:null===n||void 0===n||null===(s=n.schedule)||void 0===s||null===(h=s.branch)||void 0===h?void 0:h.name,phongChieu:null===n||void 0===n||null===(g=n.schedule)||void 0===g||null===(v=g.room)||void 0===v?void 0:v.name,gioChieu:null===n||void 0===n||null===(f=n.schedule)||void 0===f?void 0:f.startTime,ngayChieu:null===n||void 0===n||null===(m=n.schedule)||void 0===m?void 0:m.startDate,ghe:null===n||void 0===n||null===(p=n.seat)||void 0===p?void 0:p.name,hinhPhim:null===n||void 0===n||null===(b=n.schedule)||void 0===b||null===(C=b.movie)||void 0===C?void 0:C.smallImageURl})])}),[]);c(e)}}),[v]);var Z=[{field:"maVe",headerName:"No",width:80,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P},{field:"ghe",headerName:"Gh\u1ebf",width:80,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P},{field:"tenNguoiDat",headerName:"Ng\u01b0\u1eddi \u0111\u1eb7t",width:170,headerAlign:"center",align:"left",headerClassName:"custom-header",renderCell:P},{field:"phimDat",headerName:"Phim",width:200,headerAlign:"center",align:"left",headerClassName:"custom-header",renderCell:P},{field:"hinhPhim",headerName:"\u1ea2nh",width:100,renderCell:function(e){return(0,T.jsx)(O.ZP,{title:e.row.hinhPhim,children:(0,T.jsx)("img",{style:{maxWidth:"100%",height:"100%",borderRadius:4,marginRight:15},src:e.row.hinhPhim})})},headerAlign:"center",align:"center",headerClassName:"custom-header"},{field:"gioDat",headerName:"Gi\u1edd \u0111\u1eb7t",width:120,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P},{field:"ngayDat",headerName:"Ng\xe0y \u0111\u1eb7t",width:110,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P},{field:"rapChieu",headerName:"R\u1ea1p",width:200,headerAlign:"center",align:"left",headerClassName:"custom-header",renderCell:P},{field:"phongChieu",headerName:"Ph\xf2ng",width:110,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P},{field:"ngayChieu",headerName:"Ng\xe0y chi\u1ebfu",width:230,type:"date",headerAlign:"center",align:"center",headerClassName:"custom-header",valueFormatter:function(e){return(0,G.Z)(e.value.slice(0,10)).dateFull}},{field:"gioChieu",headerName:"Gi\u1edd chi\u1ebfu",width:130,headerAlign:"center",align:"center",headerClassName:"custom-header",renderCell:P}],w={lower:!0,locale:"vi"};return(0,T.jsxs)("div",{style:{height:"80vh",width:"100%",backgroundColor:"white"},children:[(0,T.jsx)("div",{className:h.control,children:(0,T.jsx)("div",{className:"row",children:(0,T.jsxs)("div",{className:"col-12 col-md-6 ".concat(h.itemCtro),children:[(0,T.jsxs)("div",{className:h.search,children:[(0,T.jsx)("div",{className:h.searchIcon,children:(0,T.jsx)(u.Z,{})}),(0,T.jsx)(s.Z,{placeholder:"Search\u2026",classes:{root:h.inputRoot,input:h.inputInput},style:{color:"black"},onChange:function(e){return n=e.target.value,clearTimeout(y.current),void(y.current=setTimeout((function(){x(n)}),500));var n}})]}),(0,T.jsx)("div",{style:{marginTop:"1rem"},children:(0,T.jsx)("div",{onClick:function(){m((0,L.Io)())},children:(0,T.jsx)(A.Z,{})})})]})})}),void 0===t?void console.log("V\xf4 handler error"):(0,T.jsx)(l._$r,{className:h.rootDataGrid,rows:null===t||void 0===t?void 0:t.filter((function(e){var n,t,i,r,o,a,l,d,c=-1!==(null===(n=M()(null!==(t=null===e||void 0===e?void 0:e.tenNguoiDat)&&void 0!==t?t:"",w))||void 0===n?void 0:n.indexOf(M()(C,w))),u=-1!==(null===(i=M()(null!==(r=null===e||void 0===e?void 0:e.phimDat)&&void 0!==r?r:"",w))||void 0===i?void 0:i.indexOf(M()(C,w))),s=-1!==(null===(o=M()(null!==(a=null===e||void 0===e?void 0:e.ngayGioDat)&&void 0!==a?a:"",w))||void 0===o?void 0:o.indexOf(M()(C,w))),h=-1!==(null===(l=M()(null!==(d=null===e||void 0===e?void 0:e.ghe)&&void 0!==d?d:"",w))||void 0===l?void 0:l.indexOf(M()(C,w)));return c||u||s||h})),columns:Z,pageSize:25,rowsPerPageOptions:[10,25,50],loading:f,components:{LoadingOverlay:H,Toolbar:l.npt},sortModel:[{field:"tenNguoiDat",sort:"asc"}]})]})}},15722:function(e,n,t){t.d(n,{Gs:function(){return o},Io:function(){return a}});var i=t(934),r=t(24701),o=function(e){return function(n){console.log(e),n({type:r.fq}),i.Z.getTicket(e).then((function(e){var t;console.log("data ticket: ",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),n({type:r.e0,payload:{data:null===e||void 0===e?void 0:e.data}})})).catch((function(e){var t;n({type:r.Ji,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},a=function(){return function(e){e({type:r.up}),i.Z.getTicketByAdminStaff().then((function(n){var t,i;console.log("all ticket API: ",n),e({type:r.yW,payload:{data:null===n||void 0===n||null===(t=n.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.content}})})).catch((function(n){var t;e({type:r.kN,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}}},32950:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(26513),r=(t(72791),t(12163)),o=t(80184);function a(){return(0,o.jsx)(i.Z,{color:"primary",variant:"contained",startIcon:(0,o.jsx)(r.Z,{}),children:"Refresh"})}},67380:function(e,n,t){var i=t(52007),r=t.n(i),o=function(e){var n;if(!e)return{dayToday:"loading...",dateShort:"loading...",dateFull:"loading...",dDMmYy:"loading..."};if(-1!==(null===(n=e)||void 0===n?void 0:n.indexOf("/"))){var t,i=null===(t=e)||void 0===t?void 0:t.split("/");e="".concat(i[2],"-").concat(i[1],"-").concat(i[0])}var r=new Date(e),o=r.getDay(),a="";0===o&&(a="Ch\u1ee7 nh\u1eadt"),1===o&&(a="Th\u1ee9 hai"),2===o&&(a="Th\u1ee9 ba"),3===o&&(a="Th\u1ee9 t\u01b0"),4===o&&(a="Th\u1ee9 n\u0103m"),5===o&&(a="Th\u1ee9 s\xe1u"),6===o&&(a="Th\u1ee9 b\u1ea3y"),(new Date).toString().slice(0,10)===r.toString().slice(0,10)&&(a="H\xf4m nay");var l="0".concat(r.getDate()).slice(-2),d="0".concat(r.getMonth()+1).slice(-2),c=r.getFullYear(),u=a+", "+l+" th\xe1ng "+d+", "+c,s=r.getTime();return{dayToday:a,dateShort:e,dateFull:u,YyMmDd:"".concat(c,".").concat(d,".").concat(l),getTime:s}};n.Z=o,o.propTypes={ISODate:r().string.isRequired}},47305:function(e,n,t){var i=t(72791),r=t(54164),o=t(54667),a=t(69806),l=t(72216);function d(e){return e.substring(2).toLowerCase()}n.Z=function(e){var n=e.children,t=e.disableReactTree,c=void 0!==t&&t,u=e.mouseEvent,s=void 0===u?"onClick":u,h=e.onClickAway,g=e.touchEvent,v=void 0===g?"onTouchEnd":g,f=i.useRef(!1),m=i.useRef(null),p=i.useRef(!1),b=i.useRef(!1);i.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var C=i.useCallback((function(e){m.current=r.findDOMNode(e)}),[]),x=(0,a.Z)(n.ref,C),y=(0,l.Z)((function(e){var n=b.current;if(b.current=!1,p.current&&m.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(f.current)f.current=!1;else{var t;if(e.composedPath)t=e.composedPath().indexOf(m.current)>-1;else t=!(0,o.Z)(m.current).documentElement.contains(e.target)||m.current.contains(e.target);t||!c&&n||h(e)}})),Z=function(e){return function(t){b.current=!0;var i=n.props[e];i&&i(t)}},w={ref:x};return!1!==v&&(w[v]=Z(v)),i.useEffect((function(){if(!1!==v){var e=d(v),n=(0,o.Z)(m.current),t=function(){f.current=!0};return n.addEventListener(e,y),n.addEventListener("touchmove",t),function(){n.removeEventListener(e,y),n.removeEventListener("touchmove",t)}}}),[y,v]),!1!==s&&(w[s]=Z(s)),i.useEffect((function(){if(!1!==s){var e=d(s),n=(0,o.Z)(m.current);return n.addEventListener(e,y),function(){n.removeEventListener(e,y)}}}),[y,s]),i.createElement(i.Fragment,null,i.cloneElement(n,w))}},6330:function(e,n,t){function i(e){return e}t.d(n,{Z:function(){return i}})},12163:function(e,n,t){var i=t(64836),r=t(75263);n.Z=void 0;var o=r(t(72791)),a=(0,i(t(44894)).default)(o.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");n.Z=a}}]);
//# sourceMappingURL=3512.3a9aee3a.chunk.js.map