"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[8374],{40972:function(e,t,n){var o=n(65608),i={getDanhSachPhongVe:function(e){var t="/seats?scheduleId=".concat(e);return o.Z.get(t)},getLichChieuChiTietHeThong:function(e,t,n,i,a){var l="/schedule/getAll?page=0&size=20&movieId=".concat(e,"&branchId=").concat(t,"&startDate=").concat(n,"&startTime=").concat(i,"&roomId=").concat(a);return console.log("L\u1ea5y chi ti\u1ebft l\u1ecbch th\xe0nh c\xf4ng!"),o.Z.get(l)},postDatVe:function(e){return console.log("\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng!"),o.Z.post("/bills/create-new-bill",e)},postTaoLichChieu:function(e){var t=e.branchId,n=e.movieId,i=e.price,a=e.roomId,l=e.startDate,c=e.startTime,s="/schedule/add?movieId=".concat(n,"&branchId=").concat(t,"&roomId=").concat(a,"&startDate=").concat(l,"&startTime=").concat(c,"&price=").concat(i);return o.Z.post(s)}};t.Z=i},20018:function(e,t,n){var o=n(65608),i={getDanhSachPhim:function(){return o.Z.get("/movies/showing")},getSearchPhim:function(e){console.log(e);var t="/movies/showing/search?name=".concat(e);return o.Z.get(t)},getThongTinPhim:function(e){var t="/movies/details/".concat(e);return o.Z.get(t)},postThemPhimUpload:function(e){return console.log(e),o.Z.post("/movies/addNew",e)},postCapNhatPhimUpload:function(e){console.log("update phim upload: ",e);return o.Z.put("/movies/update",e)},postCapNhatPhim:function(e){console.log("update phim: ",e);return o.Z.put("/movies/update",e)},deleteMovie:function(e){var t="/movies/".concat(e);return o.Z.delete(t)}};t.Z=i},934:function(e,t,n){var o=n(65608),i={postDangKy:function(e){return o.Z.post("/auth/signup",e)},postDangNhap:function(e){return console.log(e),o.Z.post("/auth/signin",e)},getDanhSachNguoiDung:function(){return o.Z.get("/user/getAll")},getDanhSachNguoiDungPhanTrang:function(e,t){return o.Z.get("/",{soTrang:e,soPhanTuTrenTrang:t})},postThemNhanVien:function(e){return o.Z.post("/auth/registerStaff",e)},postThemNguoiDung:function(e){return o.Z.post("/auth/signup",e)},getTicket:function(e){var t="/tickets?userId=".concat(e);return o.Z.get(t)},getTicketUser:function(e){var t="/tickets?userId=".concat(e);return o.Z.get(t)},getTicketByAdminStaff:function(){return o.Z.get("/tickets/getList")},deleteUser:function(e){var t="user/".concat(e);return o.Z.delete(t)},editTaiKhoan:function(e){return o.Z.put("/user/updateInfo",e)},editPassword:function(e,t){var n="/auth/changePassword?newPassword=".concat(e,"&oldPassword=").concat(t);return o.Z.put(n)},getThongTinTaiKhoan:function(){return o.Z.get("/user/me")},getChiTietTaiKhoan:function(e){var t="/user/".concat(e);return o.Z.get(t)},getChiTietTaiKhoanReviewer:function(e){var t="/user/".concat(e);return o.Z.get(t)}};t.Z=i},32694:function(e,t,n){n.d(t,{Z:function(){return l}});n(72791);var o=(0,n(38596).Z)({text__first:function(e){return{color:e.color?"".concat(e.color):"white",fontWeight:"700",fontSize:e.testSize?e.testSize:15,backgroundColor:"black",borderRadius:"5px",marginBottom:"5px"}},text__second:{color:"#f22222",fontWeight:"700"}}),i=n(1478),a=n(80184);function l(e){var t=e.tenCumRap,n=e.testSize,l=e.giaVe,c=o({color:i.yk[null===t||void 0===t?void 0:t.slice(0,3).toUpperCase()],testSize:n});return(0,a.jsxs)("p",{className:c.text__first,children:[(0,a.jsx)("span",{children:null===t||void 0===t?void 0:t.split("-")[0]}),(0,a.jsxs)("span",{className:c.text__second,children:[" - Gi\xe1 v\xe9: ","".concat(null===l||void 0===l?void 0:l.toLocaleString("vi-VI"),"\u0111")]})]})}},1478:function(e,t,n){n.d(t,{W0:function(){return a},YW:function(){return l},yk:function(){return o}});var o={BHD:"#8bc541",CGV:"#e71a0f",CNS:"#df0d7a",GLX:"#ff751a",LOT:"#cf544b",MEG:"#eeb730"},i=["/img/cumRap/bhd-star-bitexco-16105952137769.png","/img/cumRap/bhd-star-pham-hung-16105959230642.png","/img/cumRap/bhd-star-vincom-3-2-16105957596860.png","/img/cumRap/bhd-star-vincom-le-van-viet-16105962051265.png","/img/cumRap/bhd-star-vincom-quang-trung-16105960645760.png","/img/cumRap/bhd-star-vincom-thao-dien-16105955634183.png","/img/cumRap/cinestar-hai-ba-trung-15383833704033.jpg","/img/cumRap/cinestar-quoc-thanh-15379636956745.jpg","/img/cumRap/ddc-dong-da-15379624326697.jpg","/img/cumRap/lotte-cinema-cong-hoa-15383860949090.jpg","/img/cumRap/lotte-cinema-go-vap-15383873960955.jpg","/img/cumRap/lotte-cinema-phu-tho-15383865322515.jpg","/img/cumRap/lotte-cinema-thu-duc-15383864347748.jpg","/img/cumRap/mega-gs-cao-thang-15380164745357.jpg"];function a(){return i[Math.floor(14*Math.random())]}var l=[]},8374:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var o=n(1413),i=n(29439),a=n(72791),l=n(79271),c=n(16789),s=n(8154),r=n(16306),d=n(43525),u=n(44212),h=n(38596),p=(0,h.Z)({top:{position:"fixed",top:0,left:0,zIndex:1,height:60,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",backgroundColor:"#fff"},topLeft:{padding:22.5},imgCancel:{width:15,height:15,cursor:"pointer"},stepName:{fontWeight:500},avatar:{display:"inline-block",width:"30px",height:"30px",borderRadius:"50%",marginRight:15},empty:{height:60},bottom:{position:"fixed",bottom:0,left:0,zIndex:10,height:70,width:"100%",textAlign:"center"},btnBottom:{display:"inline-block",width:"50%",height:"100%",verticalAlign:"top",border:"none",fontWeight:500,borderTop:"1px solid #dadada",borderBotom:"1px solid #dadada"},btnLeft:{color:"#44c020",fontSize:15,backgroundColor:"#fff",padding:10},btnRight:function(e){return{color:"#e9e9e9",backgroundColor:e.isDisableBtnRight?"#afafaf":"#44c020",fontSize:15}}}),g=n(87850),m=n(93433),f=n(63043),v=(n(92702),n(80184));var x,b=n(4942),y=n(21741),j=(0,h.Z)((x={listSeat:function(e){return{position:"relative",padding:e.isMobile?"0px":"0 10%",marginLeft:e.isMobile?"0%":"10%"}}},(0,b.Z)(x,"listSeat",{width:"65vw"}),(0,b.Z)(x,"info_CountDown",{width:"100%",display:"flex",justifyContent:"space-between",padding:function(e){return e.isMobile?"15px 15px 0px":"2% 0%"}}),(0,b.Z)(x,"infoTheater",{display:"flex",marginLeft:"1rem"}),(0,b.Z)(x,"text",{paddingTop:5,paddingLeft:13}),(0,b.Z)(x,"textTime",{color:"#9b9b9b",fontSize:13}),(0,b.Z)(x,"countDown",{textAlign:"center",marginRight:"3rem"}),(0,b.Z)(x,"timeTitle",{fontSize:"12px",color:"#9b9b9b"}),(0,b.Z)(x,"timeCount",{fontWeight:500,fontSize:34,color:"#fb4226",lineHeight:"39px"}),(0,b.Z)(x,"overflowSeat",(0,o.Z)({overflow:function(e){return e.isMobile,"auto hidden"}},y.EZ)),(0,b.Z)(x,"invariantWidth",{minWidth:function(e){return e.isMobile,"600px"},padding:function(e){return e.isMobile?"0 7%":"0%"}}),(0,b.Z)(x,"screen",{width:"100%"}),(0,b.Z)(x,"seatSelect",{padding:"0% 10%",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"}),(0,b.Z)(x,"seat",{position:"relative",width:"calc(100%/16)",display:"inline-block",cursor:"pointer"}),(0,b.Z)(x,"label",{position:"absolute",top:"50%",left:"-100%",transform:"translate(-50%, -50%)",fontWeight:500,fontSize:function(e){return e.widthLabel},cursor:"default"}),(0,b.Z)(x,"seatName",{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,fontSize:function(e){return e.widthLabel}}),(0,b.Z)(x,"seatLocked",{position:"absolute",top:"42%",left:"50%",width:"41%",transform:"translate(-50%, -50%)"}),(0,b.Z)(x,"seatIcon",{width:"100%",height:"100%"}),(0,b.Z)(x,"viewCenter",{position:"absolute",top:"68%",left:"47.5%",width:"700%",height:"350%",transform:"translate(-42.5%,-42%)",zIndex:1}),(0,b.Z)(x,"areaClick",{width:"100%",height:"100%",color:"red",position:"absolute",zIndex:2,top:0,left:0}),(0,b.Z)(x,"noteSeat",{padding:"2% 10% 0",fontSize:13,color:"#9b9b9b"}),(0,b.Z)(x,"typeSeats",{display:"flex",justifyContent:"space-evenly",textAlign:"center",gap:"2px"}),(0,b.Z)(x,"posiX",{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)",fontSize:18,color:"#fff"}),(0,b.Z)(x,"positionView",{textAlign:"center",marginTop:5,paddingBottom:20}),(0,b.Z)(x,"line",{marginLeft:19}),(0,b.Z)(x,"linecenter",{display:"inline-block",borderBottom:"2px dashed #fa7f6c",width:28,verticalAlign:"super",marginRight:8}),(0,b.Z)(x,"linebeautiful",{display:"inline-block",borderBottom:"2px solid #fa7f6c",width:28,verticalAlign:"super",marginRight:8}),(0,b.Z)(x,"modalleft",(function(e){return{display:e.isMobile?"none":"block",left:0,top:100,height:"calc(100% - 100px)",width:"7.5%",position:"fixed",backgroundImage:"url(".concat(e.modalLeftImg,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}})),(0,b.Z)(x,"opacity",{height:"100%",width:"100%",background:"#000",opacity:.7}),x)),k=n(1478),S=n(67380),T=n(32694),Z=(n(90266),n(40972));function C(){var e,t,n,s,r,u,h,p,g,x,b,y,C,w,N,R,P,I,M,B,L=(0,c.v9)((function(e){return e.bookTicketReducer})),D=L.isMobile,z=L.listSeat,V=(L.danhSachPhongVe.thongTinPhim,L.thongTinPhongVe);console.log("-------",z),console.log("------sdas-",V);var _=(0,a.useRef)(null),A=(0,a.useState)(0),E=(0,i.Z)(A,2),W=E[0],H=E[1],U=(0,a.useState)(1),O=(0,i.Z)(U,2),F=O[0],G=O[1],K=(0,a.useState)(),Y=(0,i.Z)(K,2),q=Y[0],X=Y[1],$=(0,l.useParams)();console.log($.maPhim,$.maRap,$.ngayChieu,$.gioChieu,$.maPhong),(0,a.useEffect)((function(){Z.Z.getLichChieuChiTietHeThong($.maPhim,$.maRap,$.ngayChieu,$.gioChieu,$.maPhong).then((function(e){console.log(e.data.data),X(e.data)})).catch((function(e){console.log(e)}))}),[]);var Q=j({color:k.yk[null===V||void 0===V||null===(e=V.setRap)||void 0===e?void 0:e.slice(0,3).toUpperCase()],modalLeftImg:null===q||void 0===q||null===(t=q.data)||void 0===t||null===(n=t.content[0])||void 0===n||null===(s=n.movie)||void 0===s?void 0:s.smallImageURl,isMobile:D,widthLabel:W/2}),J=(0,c.I0)();(0,a.useEffect)((function(){return window.addEventListener("resize",ee),function(){return window.removeEventListener("resize",ee)}}),[]),(0,a.useEffect)((function(){ee()}),[z]);var ee=function(){var e;H(null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.offsetWidth)},te=function(e){var t;return"NORMAL"===e.type&&(t="#3e515d"),"VIP"===e.type&&(t="#f7b500"),e.selected&&(t="#44c020"),e.isOccupied&&(t="#99c5ff"),t};console.log("soGhe: ",F);return console.log(q),(0,v.jsxs)("main",{className:Q.listSeat,children:[(0,v.jsx)("div",{className:Q.info_CountDown,children:(0,v.jsxs)("div",{className:Q.infoTheater,children:[(0,v.jsx)("img",{src:null===q||void 0===q||null===(r=q.data)||void 0===r||null===(u=r.content[0])||void 0===u||null===(h=u.movie)||void 0===h?void 0:h.smallImageURl,alt:"phim",style:{width:100,height:150}}),(0,v.jsxs)("div",{className:Q.text,children:[(0,v.jsx)("p",{style:{color:"green",fontWeight:"700",marginBottom:"1rem",fontSize:"2rem"},children:null===q||void 0===q||null===(p=q.data)||void 0===p||null===(g=p.content[0])||void 0===g||null===(x=g.movie)||void 0===x?void 0:x.name}),(0,v.jsx)(T.Z,{tenCumRap:null===q||void 0===q||null===(b=q.data)||void 0===b||null===(y=b.content[0])||void 0===y||null===(C=y.branch)||void 0===C?void 0:C.name}),(0,v.jsx)("p",{className:Q.textTime,children:"".concat(q&&(0,S.Z)(null===q||void 0===q||null===(w=q.data)||void 0===w||null===(N=w.content[0])||void 0===N?void 0:N.startDate).dayToday," - ").concat(null===q||void 0===q||null===(R=q.data)||void 0===R||null===(P=R.content[0])||void 0===P?void 0:P.startDate," - ").concat(null===q||void 0===q||null===(I=q.data)||void 0===I||null===(M=I.content[0])||void 0===M||null===(B=M.movie)||void 0===B?void 0:B.rated)}),(0,v.jsx)("input",{style:{display:"flex",justifyContent:"center",textAlign:"center",border:"1px solid orange",backgroundColor:"black",color:"white",height:"2rem",witdth:"3rem",fontSize:"1.5rem"},value:F,type:"number",min:"1",max:"80",placeholder:"S\u1ed1 gh\u1ebf!",onChange:function(e){return function(e){G(e.target.value)}(e)}}),(0,v.jsx)("h4",{style:{display:"flex",position:"absolute",top:"27.8%",left:"45%"},children:" Gh\u1ebf"})]})]})}),(0,v.jsx)("div",{className:Q.overflowSeat,children:(0,v.jsxs)("div",{className:Q.invariantWidth,children:[(0,v.jsx)("img",{className:Q.screen,src:"/img/bookticket/screen.png",alt:"screen"}),(0,v.jsx)("div",{className:Q.seatSelect,children:null===z||void 0===z?void 0:z.map((function(e,t){return(0,v.jsxs)("div",{className:Q.seat,ref:_,children:[(0===t||t%16===0)&&(0,v.jsx)("p",{className:Q.label,children:e.name.slice(0,1)}),e.selected&&(0,v.jsx)("p",{className:Q.seatName,children:(Number(e.name.slice(1)),e.name.slice(1))}),0===e.isOccupied&&(0,v.jsx)("p",{className:Q.seatName,children:(Number(e.name.slice(1)),e.name.slice(1))}),1===e.isOccupied&&(0,v.jsx)("img",{className:Q.seatLocked,src:"/img/bookticket/notchoose.png",alt:"notchoose"}),(0,v.jsx)(f.Z,{style:{color:te(e)},className:Q.seatIcon}),"C8"===e.name&&(0,v.jsx)("img",{className:Q.viewCenter,src:"/img/bookticket/seatcenter.png",alt:"seatcenter"}),(0,v.jsx)("div",{className:Q.areaClick,onClick:function(){return function(e){if(!e.isOccupied){var t=z.map((function(t){return e.id===t.id?(0,o.Z)((0,o.Z)({},t),{},{selected:!t.selected}):t})),n=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?[].concat((0,m.Z)(e),[t.name]):e}),[]);if(n.length>F)return console.log("dispatch: ",F),void J({type:d.lO});var i=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?[].concat((0,m.Z)(e),[{id:t.id}]):e}),[]),a=n.length>0,l=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.selected?"NORMAL"===t.type?e+7e4:e+8e4:e}),0);J({type:d.vY,payload:{listSeat:t,isSelectedSeat:a,listSeatSelected:n,danhSachVe:i,amount:l}})}}(e)}})]},e.id)}))})]})}),(0,v.jsxs)("div",{className:Q.noteSeat,children:[(0,v.jsxs)("div",{className:Q.typeSeats,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(f.Z,{style:{color:"#3e515d",fontSize:27}}),(0,v.jsx)("p",{children:"Gh\u1ebf th\u01b0\u1eddng"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(f.Z,{style:{color:"#f7b500",fontSize:27}}),(0,v.jsx)("p",{children:"VIP"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(f.Z,{style:{color:"#44c020",fontSize:27}}),(0,v.jsx)("p",{children:"\u0110ang ch\u1ecdn"})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsx)("p",{className:Q.posiX,children:"x"}),(0,v.jsx)(f.Z,{style:{color:"#99c5ff",fontSize:27}})]}),(0,v.jsx)("p",{children:"\u0110\xe3 \u0111\u1eb7t"})]})]}),(0,v.jsxs)("div",{className:Q.positionView,children:[(0,v.jsxs)("span",{children:[(0,v.jsx)("span",{className:Q.linecenter}),(0,v.jsx)("span",{children:"\u1ede gi\u1eef"})]}),(0,v.jsxs)("span",{className:Q.line,children:[(0,v.jsx)("span",{className:Q.linebeautiful}),(0,v.jsx)("span",{children:"View \u0111\u1eb9p"})]})]})]}),(0,v.jsx)("div",{className:Q.modalleft,children:(0,v.jsx)("div",{className:Q.opacity})})]})}var w=(0,h.Z)({payMent:function(e){return(0,o.Z)({width:"100%",height:e.isMobile?"calc(100vh - 130px)":"100vh",position:"relative",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",padding:"0 8%",backgroundColor:"#fff",overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},y.EZ)},payMentItem:(0,o.Z)({position:"relative",padding:"12px 0"},y.i2),amount:{lineHeight:"60px",textAlign:"center",fontSize:"41px",color:"#44c020",fontWeight:500},tenPhim:{fontWeight:500,textTransform:"capitalize"},seatInfo:{display:"flex",justifyContent:"space-between",gap:"10%",color:"#fb4226",fontSize:18},amountLittle:{flex:"0 0 82px",color:"#44c020",fontWeight:500,textAlign:"right"},label:{color:"#9b9b9b",display:"block"},labelEmail:{color:function(e){return e.dataFocus.email?"#4a90e2":"#9b9b9b"},fontSize:function(e){return e.dataFocus.email||e.dataSubmit.values.email?13:16},transition:"color .3s, font-size .2s",display:"block",position:"absolute",top:"9%",left:0},labelPhone:{color:function(e){return e.dataFocus.phone?"#4a90e2":"#9b9b9b"},fontSize:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?13:16},transition:"color .3s, font-size .2s",display:"block",position:"absolute",top:"9%",left:0},error:{color:"#fb4226"},fillIn:{border:"none",width:"100%",lineHeight:1.7,"&:focus":{outline:"none"}},fillInEmail:{border:"none",width:"100%",lineHeight:1.7,paddingTop:function(e){return e.dataFocus.email||e.dataSubmit.values.email?12.5:0},marginTop:function(e){return e.dataFocus.email||e.dataSubmit.values.email?5:0},transition:".2s","&:focus":{outline:"none"}},fillInPhone:{border:"none",width:"100%",lineHeight:1.7,paddingTop:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?12.5:0},marginTop:function(e){return e.dataFocus.phone||e.dataSubmit.values.phone?5:0},transition:".2s","&:focus":{outline:"none"}},btnDiscount:{backgroundColor:"#afafaf",color:"#fff",border:"none",borderRadius:"6px",padding:"5px 7px",position:"absolute",top:"50%",right:"0%",transform:"translateY(-50%)"},selectedPayMentMethod:{paddingTop:12},toggleNotice:function(e){return{display:e.isSelectedSeat?"none":"block",fontSize:15,color:"#fb4f35",paddingTop:12}},formPayment:function(e){return{display:e.isSelectedSeat?"block":"none",paddingTop:12}},formPaymentItem:{display:"flex",alignItems:"center"},img:{borderRadius:"5px",marginLeft:"15px",marginRight:"15px",maxWidth:"40px"},input:{flexShrink:0,width:"22px",height:"22px",cursor:"pointer","-webkit-appearance":"none",border:"1px solid #4a90e2",borderRadius:"50%",outline:0,"&:before":{content:"''",display:"block",width:"50%",height:"50%",margin:"25% auto",borderRadius:"50%"},"&:checked:before":{background:"#4a90e2"}},bottomSection:{position:"absolute",bottom:0,left:0,width:"100%"},notice:{fontSize:13,textAlign:"center",paddingBottom:70,paddingTop:20},imgNotice:{width:16,height:16,marginRight:8},contactColor:{color:"#f79320"},btnDatVe:function(e){return{position:"fixed",bottom:0,right:0,width:"14.6rem",border:"none",cursor:"pointer",height:40,backgroundColor:"#afafaf",backgroundImage:e.isReadyPayment?"linear-gradient(223deg,#b4ec51 0,#429321 100%)":"none"}},txtDatVe:{margin:"auto",color:"#e9e9e9",fontSize:25}}),N=(n(35499),n(21830)),R=n.n(N),P=function(e,t,n){var i=(0,o.Z)((0,o.Z)({},n.errors),{},(0,b.Z)({},e,""===(null===t||void 0===t?void 0:t.trim())?"".concat(e.charAt(0).toUpperCase()+e.slice(1)," not be empty!"):""));return"email"===e&&t&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||(i[e]="Email not valid")),"phone"===e&&t&&(/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/.test(t)||(i[e]="Phone not valid")),i};function I(){var e,t,n,s,u,h,p,g,m,f,x,y,j,k,T,C,N,I,M,B,L,D,z=(0,c.v9)((function(e){return e.bookTicketReducer})),V=z.listSeat,_=z.amount,A=z.email,E=z.phone,W=(z.paymentMethod,z.isReadyPayment),H=z.isMobile,U=z.danhSachVe,O=(z.danhSachPhongVe.thongTinPhim,z.maLichChieu),F=z.taiKhoanNguoiDung,G=z.isSelectedSeat,K=z.listSeatSelected,Y=z.loadingBookingTicket,q=z.successBookingTicketMessage,X=z.errorBookTicketMessage,$=z.thongTinPhongVe;console.log(O,U,F),console.log("danhSachVe: ",U);var Q=(0,c.I0)(),J=(0,a.useRef)(),ee=((0,a.useRef)(),(0,a.useRef)("")),te=(0,a.useState)({phone:!1,email:!1}),ne=(0,i.Z)(te,2),oe=ne[0],ie=ne[1],ae=(0,a.useState)({values:{email:A,phone:E,thongTinPhongVe:$},errors:{email:"",phone:""}}),le=(0,i.Z)(ae,2),ce=le[0],se=le[1],re=w({isSelectedSeat:G,isReadyPayment:W,isMobile:H,dataFocus:oe,dataSubmit:ce}),de=(0,a.useState)(),ue=(0,i.Z)(de,2),he=ue[0],pe=ue[1],ge=(0,l.useParams)();console.log(K),console.log(ge.maPhim,ge.maRap,ge.ngayChieu,ge.gioChieu,ge.maPhong),(0,a.useEffect)((function(){Z.Z.getLichChieuChiTietHeThong(ge.maPhim,ge.maRap,ge.ngayChieu,ge.gioChieu,ge.maPhong).then((function(e){console.log(e.data.data),pe(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){return clearTimeout(ee),ee.current=setTimeout((function(){Q({type:d.FR,payload:{email:ce.values.email,phone:ce.values.phone}}),!ce.errors.email&&!ce.errors.phone&&ce.values.email&&ce.values.phone&&G?Q({type:d.Xk,payload:{isReadyPayment:!0}}):Q({type:d.Xk,payload:{isReadyPayment:!1}})}),500),function(){return clearTimeout(ee.current)}}),[ce,G]),(0,a.useEffect)((function(){P(J.current.name,A,ce);se((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:{email:A,phone:E}})}))}),[V]);return console.log(null===he||void 0===he||null===(e=he.data)||void 0===e?void 0:e.content[0]),(0,v.jsxs)("aside",{className:re.payMent,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"".concat(re.amount," ").concat(re.payMentItem),children:"".concat(_.toLocaleString("vi-VI")," \u0111")}),(0,v.jsxs)("div",{className:re.payMentItem,children:[(0,v.jsx)("p",{className:re.tenPhim,children:null===he||void 0===he||null===(t=he.data)||void 0===t||null===(n=t.content[0])||void 0===n||null===(s=n.movie)||void 0===s?void 0:s.name}),(0,v.jsx)("p",{children:null===he||void 0===he||null===(u=he.data)||void 0===u||null===(h=u.content[0])||void 0===h?void 0:h.branch.name}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ph\xf2ng:"}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(p=he.data)||void 0===p||null===(g=p.content[0])||void 0===g||null===(m=g.room)||void 0===m?void 0:m.name})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ng\xe0y chi\u1ebfu:"}),(0,v.jsx)("span",{children:(0,S.Z)(null===he||void 0===he||null===(f=he.data)||void 0===f||null===(x=f.content[0])||void 0===x?void 0:x.startDate).dateFull})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Gi\u1edd chi\u1ebfu:"}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(y=he.data)||void 0===y||null===(j=y.content[0])||void 0===j?void 0:j.startTime})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Th\u1eddi l\u01b0\u1ee3ng:"}),(0,v.jsxs)("span",{children:[null===he||void 0===he||null===(k=he.data)||void 0===k||null===(T=k.content[0])||void 0===T||null===(C=T.movie)||void 0===C?void 0:C.duration," Minutes"]})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Th\u1ec3 lo\u1ea1i: "}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(N=he.data)||void 0===N||null===(I=N.content[0])||void 0===I||null===(M=I.movie)||void 0===M?void 0:M.categories})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)("p",{children:"Ng\xf4n ng\u1eef: "}),(0,v.jsx)("span",{children:null===he||void 0===he||null===(B=he.data)||void 0===B||null===(L=B.content[0])||void 0===L||null===(D=L.movie)||void 0===D?void 0:D.language})]})]}),(0,v.jsxs)("div",{className:"".concat(re.seatInfo," ").concat(re.payMentItem),children:[(0,v.jsx)("span",{children:"Gh\u1ebf: ".concat(null===K||void 0===K?void 0:K.join(", "))}),(0,v.jsx)("p",{className:re.amountLittle,children:"".concat(_.toLocaleString("vi-VI")," \u0111")})]}),(0,v.jsxs)("div",{className:re.payMentItem,children:[(0,v.jsx)("label",{className:re.labelEmail,children:"E-Mail"}),(0,v.jsx)("input",{type:"text",name:"email",ref:J,onFocus:function(e){ie((0,o.Z)((0,o.Z)({},oe),{},(0,b.Z)({},e.target.name,!0)))},onBlur:function(e){ie((0,o.Z)((0,o.Z)({},oe),{},(0,b.Z)({},e.target.name,!1)))},value:ce.values.email,className:re.fillInEmail,onChange:function(e){var t=e.target,n=t.name,i=t.value,a=(0,o.Z)((0,o.Z)({},ce.values),{},(0,b.Z)({},n,i)),l=P(n,i,ce);se((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:a,errors:l})}))},autoComplete:"off"}),(0,v.jsx)("p",{className:re.error,children:ce.errors.email})]}),(0,v.jsx)("div",{className:re.selectedPayMentMethod,children:(0,v.jsx)("div",{className:re.formPayment})}),(0,v.jsx)("div",{className:re.bottomSection,children:(0,v.jsx)("button",{className:re.btnDatVe,disabled:!W,onClick:function(){R().fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1eb7t?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"C\xf3 ch\u1ee9",denyButtonText:"Kh\xf4ng, ch\u01b0a ch\u1eafc l\u1eafm",customClass:{actions:"my-actions",cancelButton:"order-1 right-gap",confirmButton:"order-2",denyButton:"order-3"}}).then((function(e){if(e.isConfirmed){if(W&&!Y&&!q&&!X){for(var t=F,n=O,o=[],i=0;i<U.length;i++)o.push(U[i].id);console.log("G\u1eedi \u0111i: ",t,n,o),Q((0,r.lm)({userId:t,scheduleId:n,listSeatIds:o}))}R().fire("\u0110\xe3 \u0111\u1eb7t!","","success")}else e.isDenied&&R().fire("Okay, kh\xf4ng \u0111\u1eb7t n\xf3!","","info")}))},children:(0,v.jsx)("p",{className:re.txtDatVe,children:"\u0110\u1eb6T NGAY"})})})]}),(0,v.jsx)("div",{className:re.notice})]})}var M=(0,h.Z)({resultBookticket:{textAlign:"left",lineHeight:"30px",padding:function(e){return e.isMobile?23:40},width:"100%"},infoTicked:{display:"flex",gap:"5%"},infoTicked__img:function(e){var t;return{flex:"30%",backgroundImage:"url(".concat(null===(t=e.thongTinPhim)||void 0===t?void 0:t.hinhAnh,")"),borderRadius:"4px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},infoTicked__txt:{flex:"70%"},tenPhim:(0,o.Z)({fontSize:19,fontWeight:"700",color:"red"},y.i2),text__first:function(e){return{color:"".concat(e.color),fontWeight:"500"}},text__second:{color:"#000",fontWeight:"500"},diaChi:(0,o.Z)({color:"#9B9B9B"},y.i2),table:(0,o.Z)({marginTop:10,width:"100%"},y.i2),infoResult_label:{margin:"30px 0px 10px",fontWeight:400},paymentColor:{color:"#f79320"},errorColor:{color:"#fb4226"},noteresult:{fontStyle:"italic",fontWeight:500}});function B(){var e,t,n,o,s,r,d,u,h,p,g,m,f,x,b,y,j,S,T,C,w,N,R=(0,c.v9)((function(e){return e.bookTicketReducer})),P=R.isMobile,I=R.amount,B=R.email,L=(R.phone,R.paymentMethod),D=R.listSeatSelected,z=R.successBookingTicketMessage,V=R.errorBookTicketMessage,_=(R.danhSachPhongVe.thongTinPhim,R.thongTinPhongVe),A=(0,c.v9)((function(e){return e.authReducer})).currentUser,E=M({thongTinPhongVe:_,color:k.yk[null===_||void 0===_?void 0:_.setRap.slice(0,3).toUpperCase()],isMobile:P}),W=(0,a.useState)(),H=(0,i.Z)(W,2),U=H[0],O=H[1],F=(0,l.useParams)();return console.log(F.maPhim,F.maRap,F.ngayChieu,F.gioChieu,F.maPhong),(0,a.useEffect)((function(){Z.Z.getLichChieuChiTietHeThong(F.maPhim,F.maRap,F.ngayChieu,F.gioChieu,F.maPhong).then((function(e){console.log(e.data.data),O(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,v.jsxs)("div",{className:E.resultBookticket,children:[(0,v.jsxs)("div",{className:E.infoTicked,children:[(0,v.jsx)("div",{className:E.infoTicked__img,children:(0,v.jsx)("img",{src:null===U||void 0===U||null===(e=U.data)||void 0===e||null===(t=e.content[0])||void 0===t||null===(n=t.movie)||void 0===n?void 0:n.smallImageURl})}),(0,v.jsxs)("div",{className:E.infoTicked__txt,children:[(0,v.jsx)("p",{className:E.tenPhim,children:null===U||void 0===U||null===(o=U.data)||void 0===o||null===(s=o.content[0])||void 0===s||null===(r=s.movie)||void 0===r?void 0:r.name}),(0,v.jsxs)("p",{className:E.text__first,children:[(0,v.jsx)("span",{children:null===U||void 0===U||null===(d=U.data)||void 0===d||null===(u=d.content[0])||void 0===u||null===(h=u.branch)||void 0===h?void 0:h.name.split("-")[0]}),(0,v.jsxs)("span",{className:E.text__second,children:["-",null===U||void 0===U||null===(p=U.data)||void 0===p||null===(g=p.content[0])||void 0===g||null===(m=g.branch)||void 0===m?void 0:m.phoneNo.split("-")[1]]})]}),(0,v.jsx)("p",{className:E.diaChi,children:null===U||void 0===U||null===(f=U.data)||void 0===f||null===(x=f.content[0])||void 0===x||null===(b=x.branch)||void 0===b?void 0:b.address}),(0,v.jsx)("table",{className:E.table,children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Showtime:"}),(0,v.jsx)("td",{valign:"top",children:"".concat(null===U||void 0===U||null===(y=U.data)||void 0===y||null===(j=y.content[0])||void 0===j?void 0:j.startTime,", ").concat(null===U||void 0===U||null===(S=U.data)||void 0===S||null===(T=S.content[0])||void 0===T?void 0:T.startDate)})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Room:"}),(0,v.jsx)("td",{children:null===U||void 0===U||null===(C=U.data)||void 0===C||null===(w=C.content[0])||void 0===w||null===(N=w.room)||void 0===N?void 0:N.name})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Seat(s):"}),(0,v.jsx)("td",{children:null===D||void 0===D?void 0:D.join(", ")})]})]})})]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:E.infoResult_label,children:"Ticket Information"}),(0,v.jsx)("table",{className:"".concat(E.table," table"),children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Name:"}),(0,v.jsx)("td",{children:null===A||void 0===A?void 0:A.name})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Email:"}),(0,v.jsx)("td",{children:B})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Status:"}),(0,v.jsxs)("td",{children:[z&&(0,v.jsxs)("span",{children:["Booking ticket Successfully ",(0,v.jsx)("span",{className:E.paymentColor,children:L})]}),V&&(0,v.jsxs)("span",{children:["Booking ticket Fail: ",(0,v.jsx)("span",{className:E.errorColor,children:V})]})]})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{valign:"top",children:"Total:"}),(0,v.jsx)("td",{valign:"top",children:(0,v.jsx)("span",{children:"".concat(I.toLocaleString("vi-VI")," \u0111")})})]})]})}),z&&(0,v.jsx)("p",{className:E.noteresult,children:"Check this ticket into your information!"})]})})]})}var L=n(4733);function D(e){var t=(0,c.v9)((function(e){return e.bookTicketReducer})),n=t.activeStep,o=t.isSelectedSeat,i=t.listSeatSelected,s=t.isReadyPayment,u=t.maLichChieu,h=t.danhSachVe,m=t.taiKhoanNguoiDung,f=t.loadingBookingTicket,x=t.successBookingTicketMessage,b=t.errorBookTicketMessage,y=(0,l.useHistory)(),j=(0,c.I0)(),k=0===n&&!o||1===n&&!s,S=p({isDisableBtnRight:k}),T=(0,l.useParams)(),Z=function(){j({type:d.aZ}),j({type:L.sS}),setTimeout((function(){y.push("/")}),50)},w=function(){switch(n){case 0:return{left:null===i||void 0===i?void 0:i.join(", "),right:"TI\u1ebeP T\u1ee4C"};case 1:return{left:"QUAY L\u1ea0I",right:"\u0110\u1eb6T V\xc9"};case 2:return{left:"MUA TH\xcaM V\xc9 PHIM N\xc0Y",right:"QUAY V\u1ec0 TRANG CH\u1ee6"};default:return{}}};return(0,v.jsxs)("div",{children:[(0,v.jsxs)("section",{className:S.top,children:[(0,v.jsx)("div",{className:S.topLeft,children:(0,v.jsx)("img",{className:S.imgCancel,src:"/img/bookticket/cancel-arrow.png",alt:"cancel",onClick:Z})}),["CH\u1eccN GH\u1ebe","THANH TO\xc1N","K\u1ebeT QU\u1ea2 \u0110\u1eb6T V\xc9"].map((function(e,t){return(0,v.jsx)(a.Fragment,{children:n===t&&(0,v.jsx)("p",{className:S.stepName,children:"".concat(String(t+1),". ").concat(e)})},e)})),(0,v.jsx)("img",{onClick:function(){y.push("/taikhoan")},src:g.lq,alt:"avatar",className:S.avatar})]}),(0,v.jsx)("div",{className:S.empty}),(0,v.jsxs)("div",{children:[(0,v.jsx)("main",{style:{display:0===n?"block":"none"},children:(0,v.jsx)(C,{})}),(0,v.jsx)("main",{style:{display:1===n?"block":"none"},children:(0,v.jsx)(I,{})}),(0,v.jsx)("main",{style:{display:2===n?"block":"none"},children:(0,v.jsx)(B,{})}),(0,v.jsx)("div",{style:{height:70}})]}),(0,v.jsxs)("section",{className:S.bottom,children:[(0,v.jsx)("button",{className:"".concat(S.btnLeft," ").concat(S.btnBottom),onClick:function(){1===n&&j({type:d.qB,payload:{activeStep:0}}),2===n&&(x&&(j({type:d.aZ}),j((0,r.tM)(T.maLichChieu))),b&&j({type:d.aZ}))},disabled:0===n,children:w().left}),(0,v.jsx)("button",{className:"".concat(S.btnRight," ").concat(S.btnBottom),disabled:k,onClick:function(){0===n&&j({type:d.qB,payload:{activeStep:1}}),1!==n||!s||f||x||b||j((0,r.lm)({maLichChieu:u,danhSachVe:h,taiKhoanNguoiDung:m})),2===n&&Z()},children:w().right})]})]})}var z=(0,h.Z)({bookTicked:{display:"flex"},left:{flex:"75%"},right:{flex:"25%"}}),V=n(38317),_=n(10241);(0,h.Z)((function(e){return{root:{width:"100%",boxShadow:"0 0 15px rgb(0 0 0 / 30%)",display:"flex",justifyContent:"space-between",padding:10,height:100},stepper:{padding:0,flexBasis:"80%"},label:{marginTop:"7px !important",color:"#9b9b9b",fontSize:16},account:{cursor:"pointer",textAlign:"center",textTransform:"uppercase",flex:"0 0 150px"},hoTen:{marginTop:7,lineHeight:1.43,color:"#9b9b9b"},avatar:{display:"inline-block",width:"50px",height:"50px",borderRadius:"50%"},stepIcon:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},stepIconActive:{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)",boxShadow:"0 0 11px 11px rgba(180, 236, 81,.25)"},stepIconCompleted:{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}}})),(0,V.Z)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(_.Z);function A(){var e=z();return(0,v.jsxs)("div",{className:e.bookTicked,children:[(0,v.jsx)("section",{className:e.left,children:(0,v.jsx)(C,{})}),(0,v.jsx)("section",{className:e.right,children:(0,v.jsx)(I,{})})]})}var E=n(83837),W=n(26513),H=n(42915),U=(0,h.Z)({modal:{textAlign:"center",fontSize:17,width:"fit-content",borderRadius:"20px",alignItems:"center",overflowX:"hidden"},padding:{padding:40},over10:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",padding:10,maxWidth:function(e){return e.isMobile?"auto":"480px"},alignItems:"center"},notification:{width:80,marginLeft:29,marginTop:10},textOver:(0,o.Z)({padding:"10px 20px",width:"100%"},y.Xq),btnOver:{color:"#fb4226",border:"1.2px solid #fb4226",borderRadius:"20px",marginTop:10,"&:hover":{color:"#fff",backgroundColor:"#fb4226"}},spaceEvenly:{width:"100%",display:"flex",justifyContent:"space-evenly",paddingBottom:30},btnResult:{color:"#fff",padding:"6px 17px",borderRadius:"20px",backgroundImage:"linear-gradient(223deg,#b4ec51 0,#429321 100%)","&:hover":{color:"#fff",backgroundImage:"linear-gradient(223deg,#5d9004 0,#1f5f04 100%)"}},txtClick:{color:"#f79320",cursor:"pointer","&:hover":{color:"#0056b3",textDecoration:"initial"}}});function O(){var e=(0,c.v9)((function(e){return e.bookTicketReducer})),t=e.alertOver10,n=e.isMobile,o=e.timeOut,i=e.successBookingTicketMessage,a=e.errorBookTicketMessage,s=e.danhSachPhongVe.thongTinPhim;console.log(i);var u=(0,c.I0)(),h=(0,l.useParams)(),p=((0,l.useHistory)(),U({thongTinPhim:s,color:k.yk[null===s||void 0===s?void 0:s.tenCumRap.slice(0,3).toUpperCase()],isMobile:n})),g=!(!i&&!a),m=function(){R().fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n thanh to\xe1n?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No",customClass:{actions:"my-actions",cancelButton:"order-1 right-gap",confirmButton:"order-2",denyButton:"order-3"}}).then((function(e){var t;e.isConfirmed?H.Z.postThanhToan(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.id).then((function(e){console.log(e),R().fire("\u0110\xe3 thanh to\xe1n!","","success")})).catch((function(e){console.log(e),R().fire("\u0110\xe3 qu\xe1 h\u1ea1n thanh to\xe1n!","","info")})):e.isDenied&&R().fire("Kh\xf4ng thanh to\xe1n ngay!","","info")}))};return(0,v.jsxs)(E.Z,{open:o||g&&!n||t,classes:{paper:p.modal},maxWidth:"md",children:[o&&!g&&(0,v.jsx)("div",{className:p.padding,children:(0,v.jsxs)("p",{children:["H\u1ebft gi\u1edd! Vui l\xf2ng \u0111\u1eb7t trong v\xf2ng 5 ph\xfat.",(0,v.jsx)("span",{className:p.txtClick,onClick:function(){u({type:d.aZ}),u((0,r.tM)(h.maLichChieu))},children:"\u0110\u1eb7t l\u1ea1i!"})]})}),t&&!o&&(0,v.jsxs)("div",{className:p.over10,children:[(0,v.jsx)("div",{className:p.notification,children:(0,v.jsx)("img",{width:"100%",src:"/img/bookticket/Post-notification.png",alt:"Post-notification"})}),(0,v.jsx)("p",{className:p.textOver,children:"Nh\xe2n vi\xean kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ecdn qu\xe1 s\u1ed1 l\u01b0\u1ee3ng gh\u1ebf \u0111\xe3 \u0111i\u1ec1n"}),(0,v.jsx)(W.Z,{variant:"outlined",classes:{root:p.btnOver},onClick:function(){u({type:d.EY}),window.location.reload()},children:"Okay"})]}),!n&&g&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(B,{}),(0,v.jsxs)("div",{className:p.spaceEvenly,children:[(0,v.jsxs)(W.Z,{classes:{root:p.btnResult},onClick:function(){i&&u((0,r.tM)(h.maLichChieu)),u({type:d.aZ})},children:[i&&"\u0110\u1eb7t th\xeam gh\u1ebf cho phim n\xe0y!",a&&"C\u1ed1 g\u1eafng th\u1eed l\u1ea1i"]}),(0,v.jsx)(W.Z,{classes:{root:p.btnResult},onClick:function(){var e;u({type:d.aZ}),console.log(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.id),m()},children:"Thanh to\xe1n cho kh\xe1ch h\xe0ng t\u1ea1i qu\u1ea7y"})]})]})]})}var F=n(934);n(20018);function G(){var e=(0,c.v9)((function(e){return e.lazyReducer})).isLazy,t=(0,c.v9)((function(e){return e.bookTicketReducer})),n=t.loadingGetListSeat,r=t.refreshKey,h=t.timeOut,p=t.isMobile,m=t.danhSachPhongVe,f=(m.thongTinPhim,m.danhSachGhe,t.errorGetListSeatMessage),x=(t.thongTinPhongVe,(0,c.v9)((function(e){return e.authReducer})).currentUser),b=(0,l.useParams)();console.log(b.maPhim,b.maLichChieu,b.ngayChieu,b.ngayChieu,b.gioChieu,b.maRap);var y=(0,c.I0)(),j=(0,s.Z)(g.Ov),k=e||n,S=(0,a.useState)(),T=(0,i.Z)(S,2),C=T[0],w=T[1],N=(0,a.useState)(),R=(0,i.Z)(N,2),P=R[0],I=(R[1],(0,a.useState)({})),M=(0,i.Z)(I,2),B=M[0],L=(M[1],(0,a.useState)([])),z=(0,i.Z)(L,2),V=z[0],_=z[1];return(0,a.useEffect)((function(){F.Z.getThongTinTaiKhoan().then((function(e){console.log(e),w(e),y({type:u.XP,payload:{data:e.data.data}})})).catch((function(e){console.log(e)}))}),[]),console.log(C),(0,a.useEffect)((function(){return Z.Z.getDanhSachPhongVe(b.maLichChieu).then((function(e){console.log("L\u1ea5y gh\u1ebf n\xe8",e.data.data),_(e.data.data),y({type:d.MP,payload:{data:e.data.data}})})).catch((function(e){console.log(e)})),function(){y({type:d.aZ})}}),[]),(0,a.useEffect)((function(){var e,t,n,i,a,l,c=64,s=null===V||void 0===V?void 0:V.map((function(e,t){t%16===0&&c++;var n=String.fromCharCode(c),i=(t%16+1).toString().padStart(2,0);return(0,o.Z)((0,o.Z)({},e),{},{label:n+i,selected:!1})}));y({type:d.Bq,payload:{listSeat:s,maLichChieu:null===b||void 0===b?void 0:b.maLichChieu,hoTen:null===C||void 0===C||null===(e=C.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name,taiKhoanNguoiDung:null===C||void 0===C||null===(n=C.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.id,email:null===C||void 0===C||null===(a=C.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.email,phone:"0376621299",thongTinPhongVe:B.content}})}),[V,C,x,P,h]),(0,a.useEffect)((function(){y({type:d.k_,payload:{isMobile:j}})}),[j]),f?(0,v.jsx)("div",{children:f}):(0,v.jsxs)("div",{style:{display:k?"none":"block",backgroundColor:"white"},children:[p?(0,v.jsx)(D,{},r):(0,v.jsx)(A,{},r+1),(0,v.jsx)(O,{})]})}},16306:function(e,t,n){n.d(t,{b$:function(){return s},gn:function(){return c},lm:function(){return l},tM:function(){return a}});var o=n(40972),i=n(43525),a=function(e){return function(t){t({type:i.Ts}),console.log("getListSeat: ",e),o.Z.getDanhSachPhongVe(e).then((function(e){console.log("data danh s\xe1ch gh\u1ebf n\xe8: ",e.data),t({type:i.MP,payload:{data:e.data}})})).catch((function(e){var n;t({type:i.KU,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},l=function(e){return console.log("Data \u0111\u1eb7t v\xe9: ",e),function(t){t({type:i.XH}),o.Z.postDatVe(e).then((function(e){t({type:i.sY,payload:{data:e.data}}),console.log("K\u1ebft qu\u1ea3: ",e)})).catch((function(e){var n;t({type:i.wz,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},c=function(e){return function(t){console.log("Truy\u1ec1n v\xf4 th\xeam showtime: ",e),t({type:i.VH}),o.Z.postTaoLichChieu(e).then((function(e){t({type:i.R,payload:{data:e.data}})})).catch((function(e){var n;t({type:i.GV,payload:{error:null!==(n=e.response)&&void 0!==n&&n.data?e.response.data:e.message}})}))}},s=function(){return function(e){e({type:i.Y6})}}},21741:function(e,t,n){n.d(t,{EZ:function(){return o},Xq:function(){return i},i2:function(){return a}});var o={"&::-webkit-scrollbar":{backgroundColor:"#e8e3e3",borderRadius:5,height:"13px",width:"5px"},"&::-webkit-scrollbar-track":{borderRadius:5},"&::-webkit-scrollbar-thumb":{borderRadius:5,background:"rgb(0 0 0 / 30%)"}},i={position:"relative","&:after":{content:"''",position:"absolute",bottom:"0",left:"50%",width:"calc(100% - 40px)",transform:"translateX(-50%)",borderBottom:"2px solid rgba(238,238,238,.88)"}},a={position:"relative","&:after":{content:"''",position:"absolute",bottom:"0",left:"50%",width:"100%",transform:"translateX(-50%)",borderBottom:"1px dashed #e9e9e9;"}}},67380:function(e,t,n){var o=n(52007),i=n.n(o),a=function(e){var t;if(!e)return{dayToday:"loading...",dateShort:"loading...",dateFull:"loading...",dDMmYy:"loading..."};if(-1!==(null===(t=e)||void 0===t?void 0:t.indexOf("/"))){var n,o=null===(n=e)||void 0===n?void 0:n.split("/");e="".concat(o[2],"-").concat(o[1],"-").concat(o[0])}var i=new Date(e),a=i.getDay(),l="";0===a&&(l="Ch\u1ee7 nh\u1eadt"),1===a&&(l="Th\u1ee9 hai"),2===a&&(l="Th\u1ee9 ba"),3===a&&(l="Th\u1ee9 t\u01b0"),4===a&&(l="Th\u1ee9 n\u0103m"),5===a&&(l="Th\u1ee9 s\xe1u"),6===a&&(l="Th\u1ee9 b\u1ea3y"),(new Date).toString().slice(0,10)===i.toString().slice(0,10)&&(l="H\xf4m nay");var c="0".concat(i.getDate()).slice(-2),s="0".concat(i.getMonth()+1).slice(-2),r=i.getFullYear(),d=l+", "+c+" th\xe1ng "+s+", "+r,u=i.getTime();return{dayToday:l,dateShort:e,dateFull:d,YyMmDd:"".concat(r,".").concat(s,".").concat(c),getTime:u}};t.Z=a,a.propTypes={ISODate:i().string.isRequired}},90266:function(e,t,n){e.exports=n.p+"static/media/posterBG.455fcef9b599b619deb7.jpg"}}]);
//# sourceMappingURL=8374.a955ad44.chunk.js.map